{"ast":null,"code":"var _jsxFileName = \"/Users/markgiblin/Desktop/layrbase/src/pages/company-setup/components/foundation/FoundationDocuments.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { CheckCircleIcon, LinkIcon, ArrowUpOnSquareIcon, DocumentTextIcon, BuildingOfficeIcon } from '@heroicons/react/20/solid';\nimport { useAuth } from '../../../../contexts/AuthContext';\nimport { getCompanyProfile, upsertCompanyProfile } from '../../../../services/legalService';\nimport { supabase } from '../../../../lib/supabase';\n\n// Modal components moved outside to prevent re-creation\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CompanyNamePopup = ({\n  companyName,\n  setCompanyName,\n  logoUrl,\n  fileInputRef,\n  handleLogoUpload,\n  handleCompanyNameSubmit,\n  setShowCompanyPopup\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full w-[600px] max-w-full bg-white shadow-2xl p-6 relative flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => setShowCompanyPopup(false),\n      className: \"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\",\n      \"aria-label\": \"Close\",\n      children: \"\\xD7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-medium text-gray-900 mb-4\",\n      children: \"Enter Company Name & Logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCompanyNameSubmit,\n      className: \"flex-1 flex flex-col justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2 w-24 h-24 flex items-center justify-center bg-gray-100 rounded-full overflow-hidden\",\n            children: logoUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logoUrl,\n              alt: \"Company Logo\",\n              className: \"object-contain w-full h-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 28,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400 text-2xl font-bold\",\n              children: \"Logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            ref: fileInputRef,\n            onChange: handleLogoUpload,\n            className: \"hidden\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => fileInputRef.current && fileInputRef.current.click(),\n            className: \"px-3 py-1.5 bg-blue-600 text-white rounded-md text-xs hover:bg-blue-700\",\n            children: logoUrl ? 'Change Logo' : 'Upload Logo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: companyName,\n          onChange: e => setCompanyName(e.target.value),\n          placeholder: \"Enter your company name...\",\n          className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex justify-end space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowCompanyPopup(false),\n          className: \"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 3\n}, this);\n_c = CompanyNamePopup;\nconst CompanyNumberPopup = ({\n  companyNumber,\n  setCompanyNumber,\n  incorporationDate,\n  setIncorporationDate,\n  handleCompanyNumberSubmit,\n  setShowCompanyNumberPopup\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full w-[600px] max-w-full bg-white shadow-2xl p-6 relative flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => setShowCompanyNumberPopup(false),\n      className: \"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\",\n      \"aria-label\": \"Close\",\n      children: \"\\xD7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-medium text-gray-900 mb-4\",\n      children: \"Company Number & Incorporation Date\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCompanyNumberSubmit,\n      className: \"flex-1 flex flex-col justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Company Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: companyNumber,\n            onChange: e => setCompanyNumber(e.target.value),\n            placeholder: \"e.g., 12345678\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Incorporation Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: incorporationDate,\n            onChange: e => setIncorporationDate(e.target.value),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex justify-end space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowCompanyNumberPopup(false),\n          className: \"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 81,\n  columnNumber: 3\n}, this);\n_c2 = CompanyNumberPopup;\nconst OfficePopup = ({\n  registeredOffice,\n  setRegisteredOffice,\n  website,\n  setWebsite,\n  contactEmail,\n  setContactEmail,\n  linkedinProfile,\n  setLinkedinProfile,\n  handleOfficeSubmit,\n  setShowOfficePopup\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full w-[600px] max-w-full bg-white shadow-2xl p-6 relative flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => setShowOfficePopup(false),\n      className: \"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\",\n      \"aria-label\": \"Close\",\n      children: \"\\xD7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-medium text-gray-900 mb-4\",\n      children: \"Registered Office & Contact Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleOfficeSubmit,\n      className: \"flex-1 flex flex-col justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Registered Office\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: registeredOffice,\n            onChange: e => setRegisteredOffice(e.target.value),\n            placeholder: \"Full address...\",\n            rows: 3,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Website\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            value: website,\n            onChange: e => setWebsite(e.target.value),\n            placeholder: \"www.yourcompany.com\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Contact Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: contactEmail,\n            onChange: e => setContactEmail(e.target.value),\n            placeholder: \"hello@yourcompany.com\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"LinkedIn Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            value: linkedinProfile,\n            onChange: e => setLinkedinProfile(e.target.value),\n            placeholder: \"https://linkedin.com/company/yourcompany\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex justify-end space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowOfficePopup(false),\n          className: \"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 139,\n  columnNumber: 3\n}, this);\n_c3 = OfficePopup;\nconst BankPopup = ({\n  bankProvider,\n  setBankProvider,\n  bankAccountOpened,\n  setBankAccountOpened,\n  handleBankSubmit,\n  setShowBankPopup\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full w-[600px] max-w-full bg-white shadow-2xl p-6 relative flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => setShowBankPopup(false),\n      className: \"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\",\n      \"aria-label\": \"Close\",\n      children: \"\\xD7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-medium text-gray-900 mb-4\",\n      children: \"Business Bank Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleBankSubmit,\n      className: \"flex-1 flex flex-col justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Bank Provider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: bankProvider,\n            onChange: e => setBankProvider(e.target.value),\n            placeholder: \"e.g., Barclays Bank\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Account Opened Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: bankAccountOpened,\n            onChange: e => setBankAccountOpened(e.target.value),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex justify-end space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowBankPopup(false),\n          className: \"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 217,\n  columnNumber: 3\n}, this);\n_c4 = BankPopup;\nconst VatPopup = ({\n  vatNumber,\n  setVatNumber,\n  handleVatSubmit,\n  setShowVatPopup\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full w-[600px] max-w-full bg-white shadow-2xl p-6 relative flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => setShowVatPopup(false),\n      className: \"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\",\n      \"aria-label\": \"Close\",\n      children: \"\\xD7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-medium text-gray-900 mb-4\",\n      children: \"VAT Registration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleVatSubmit,\n      className: \"flex-1 flex flex-col justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"VAT Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: vatNumber,\n          onChange: e => setVatNumber(e.target.value),\n          placeholder: \"e.g., GB123456789\",\n          className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex justify-end space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowVatPopup(false),\n          className: \"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 273,\n  columnNumber: 3\n}, this);\n\n// Stepper Wizard Component\n_c5 = VatPopup;\nconst CompanySetupStepper = ({\n  open,\n  onClose,\n  initialData,\n  organizationId,\n  onStepComplete\n}) => {\n  _s();\n  const [step, setStep] = useState(0);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState('');\n  // Step form states\n  const [name, setName] = useState(initialData.name || '');\n  const [logoUrl, setLogoUrl] = useState(initialData.logo_url || '');\n  const fileInputRef = useRef();\n  const [companyNumber, setCompanyNumber] = useState(initialData.company_number || '');\n  const [incorporationDate, setIncorporationDate] = useState(initialData.incorporation_date || '');\n  const [registeredOffice, setRegisteredOffice] = useState(initialData.registered_office || '');\n  const [website, setWebsite] = useState(initialData.website || '');\n  const [contactEmail, setContactEmail] = useState(initialData.contact_email || '');\n  const [linkedinProfile, setLinkedinProfile] = useState(initialData.linkedin_profile || '');\n  const [vatNumber, setVatNumber] = useState(initialData.vat_number || '');\n  const [bankProvider, setBankProvider] = useState(initialData.bank_provider || '');\n  const [bankAccountOpened, setBankAccountOpened] = useState(initialData.bank_account_opened || '');\n  const steps = [{\n    label: 'Company Name & Logo',\n    content: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 w-24 h-24 flex items-center justify-center bg-gray-100 rounded-full overflow-hidden\",\n          children: logoUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logoUrl,\n            alt: \"Company Logo\",\n            className: \"object-contain w-full h-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-400 text-2xl font-bold\",\n            children: \"Logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          ref: fileInputRef,\n          onChange: async e => {\n            const file = e.target.files[0];\n            if (!file || !organizationId) return;\n            const fileExt = file.name.split('.').pop();\n            const filePath = `${organizationId}/logo.${fileExt}`;\n            const {\n              error: uploadError\n            } = await supabase.storage.from('company-logos').upload(filePath, file, {\n              upsert: true\n            });\n            if (uploadError) {\n              setError('Error uploading logo: ' + uploadError.message);\n              return;\n            }\n            const {\n              data: publicUrlData,\n              error: urlError\n            } = supabase.storage.from('company-logos').getPublicUrl(filePath);\n            if (urlError || !(publicUrlData !== null && publicUrlData !== void 0 && publicUrlData.publicUrl)) {\n              setError('Error getting logo URL');\n              return;\n            }\n            setLogoUrl(publicUrlData.publicUrl);\n          },\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => fileInputRef.current && fileInputRef.current.click(),\n          className: \"px-3 py-1.5 bg-blue-600 text-white rounded-md text-xs hover:bg-blue-700 mt-2\",\n          children: logoUrl ? 'Change Logo' : 'Upload Logo'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        placeholder: \"Enter your company name...\",\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n        autoFocus: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true),\n    save: async () => {\n      setSaving(true);\n      setError('');\n      try {\n        await upsertCompanyProfile({\n          organization_id: organizationId,\n          name,\n          logo_url: logoUrl\n        });\n        onStepComplete && onStepComplete({\n          name,\n          logo_url: logoUrl\n        });\n      } catch (err) {\n        setError(err.message || 'Failed to save.');\n        throw err;\n      } finally {\n        setSaving(false);\n      }\n    }\n  }, {\n    label: 'Company Number & Incorporation Date',\n    content: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: companyNumber,\n        onChange: e => setCompanyNumber(e.target.value),\n        placeholder: \"Company Number\",\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: incorporationDate,\n        onChange: e => setIncorporationDate(e.target.value),\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true),\n    save: async () => {\n      setSaving(true);\n      setError('');\n      try {\n        await upsertCompanyProfile({\n          organization_id: organizationId,\n          company_number: companyNumber,\n          incorporation_date: incorporationDate\n        });\n        onStepComplete && onStepComplete({\n          company_number: companyNumber,\n          incorporation_date: incorporationDate\n        });\n      } catch (err) {\n        setError(err.message || 'Failed to save.');\n        throw err;\n      } finally {\n        setSaving(false);\n      }\n    }\n  }, {\n    label: 'Registered Office & Contact Info',\n    content: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: registeredOffice,\n        onChange: e => setRegisteredOffice(e.target.value),\n        placeholder: \"Registered Office Address\",\n        rows: 2,\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"url\",\n        value: website,\n        onChange: e => setWebsite(e.target.value),\n        placeholder: \"Website\",\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        value: contactEmail,\n        onChange: e => setContactEmail(e.target.value),\n        placeholder: \"Contact Email\",\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"url\",\n        value: linkedinProfile,\n        onChange: e => setLinkedinProfile(e.target.value),\n        placeholder: \"LinkedIn Profile\",\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true),\n    save: async () => {\n      setSaving(true);\n      setError('');\n      try {\n        await upsertCompanyProfile({\n          organization_id: organizationId,\n          registered_office: registeredOffice,\n          website,\n          contact_email: contactEmail,\n          linkedin_profile: linkedinProfile\n        });\n        onStepComplete && onStepComplete({\n          registered_office: registeredOffice,\n          website,\n          contact_email: contactEmail,\n          linkedin_profile: linkedinProfile\n        });\n      } catch (err) {\n        setError(err.message || 'Failed to save.');\n        throw err;\n      } finally {\n        setSaving(false);\n      }\n    }\n  }, {\n    label: 'VAT Registration',\n    content: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: vatNumber,\n      onChange: e => setVatNumber(e.target.value),\n      placeholder: \"VAT Number\",\n      className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 9\n    }, this),\n    save: async () => {\n      setSaving(true);\n      setError('');\n      try {\n        await upsertCompanyProfile({\n          organization_id: organizationId,\n          vat_number: vatNumber\n        });\n        onStepComplete && onStepComplete({\n          vat_number: vatNumber\n        });\n      } catch (err) {\n        setError(err.message || 'Failed to save.');\n        throw err;\n      } finally {\n        setSaving(false);\n      }\n    }\n  }, {\n    label: 'Business Bank Account',\n    content: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: bankProvider,\n        onChange: e => setBankProvider(e.target.value),\n        placeholder: \"Bank Provider\",\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: bankAccountOpened,\n        onChange: e => setBankAccountOpened(e.target.value),\n        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true),\n    save: async () => {\n      setSaving(true);\n      setError('');\n      try {\n        await upsertCompanyProfile({\n          organization_id: organizationId,\n          bank_provider: bankProvider,\n          bank_account_opened: bankAccountOpened\n        });\n        onStepComplete && onStepComplete({\n          bank_provider: bankProvider,\n          bank_account_opened: bankAccountOpened\n        });\n      } catch (err) {\n        setError(err.message || 'Failed to save.');\n        throw err;\n      } finally {\n        setSaving(false);\n      }\n    }\n  }];\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full w-[700px] max-w-full bg-white shadow-2xl p-8 relative flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onClose,\n        className: \"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\",\n        \"aria-label\": \"Close\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500 mb-2\",\n          children: [\"Step \", step + 1, \" of \", steps.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold text-gray-900 mb-1\",\n          children: steps[step].label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-500 h-2 rounded-full transition-all duration-300\",\n            style: {\n              width: `${(step + 1) / steps.length * 100}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex-1 flex flex-col justify-between\",\n        onSubmit: async e => {\n          e.preventDefault();\n          await steps[step].save();\n          if (step < steps.length - 1) setStep(s => s + 1);else onClose();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: steps[step].content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-600 text-sm mt-2\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setStep(s => Math.max(0, s - 1)),\n            className: \"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200\",\n            disabled: step === 0 || saving,\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",\n            disabled: saving,\n            children: step === steps.length - 1 ? 'Finish' : 'Next'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 521,\n    columnNumber: 5\n  }, this);\n};\n\n// Move fetchProfile to top-level\n_s(CompanySetupStepper, \"Qfa9dsC4xf998Ajs4W5I4/CorFY=\");\n_c6 = CompanySetupStepper;\nasync function fetchProfile(organizationId, setCompanyName, setCompanyNumber, setIncorporationDate, setRegisteredOffice, setWebsite, setContactEmail, setVatNumber, setBankProvider, setBankAccountOpened, setLogoUrl, setLinkedinProfile, setChecklist) {\n  if (!organizationId) return;\n  const data = await getCompanyProfile(organizationId);\n  if (data) {\n    setCompanyName(data.name || '');\n    setCompanyNumber(data.company_number || '');\n    setIncorporationDate(data.incorporation_date || '');\n    setRegisteredOffice(data.registered_office || '');\n    setWebsite(data.website || '');\n    setContactEmail(data.contact_email || '');\n    setVatNumber(data.vat_number || '');\n    setBankProvider(data.bank_provider || '');\n    setBankAccountOpened(data.bank_account_opened || '');\n    setLogoUrl(data.logo_url || '');\n    setLinkedinProfile(data.linkedin_profile || '');\n    setChecklist(prev => prev.map((item, idx) => {\n      switch (idx) {\n        case 0:\n          return {\n            ...item,\n            completed: !!(data.name && data.logo_url)\n          };\n        case 1:\n          return {\n            ...item,\n            completed: !!(data.company_number && data.incorporation_date)\n          };\n        case 2:\n          return {\n            ...item,\n            completed: !!(data.registered_office && data.website && data.contact_email)\n          };\n        case 8:\n          return {\n            ...item,\n            completed: !!(data.bank_provider && data.bank_account_opened)\n          };\n        case 9:\n          return {\n            ...item,\n            completed: !!data.vat_number\n          };\n        default:\n          return item;\n      }\n    }));\n  }\n}\nconst FoundationDocuments = () => {\n  _s2();\n  const {\n    currentOrganization\n  } = useAuth();\n  const [showCompanyPopup, setShowCompanyPopup] = useState(false);\n  const [showCompanyNumberPopup, setShowCompanyNumberPopup] = useState(false);\n  const [showOfficePopup, setShowOfficePopup] = useState(false);\n  const [showBankPopup, setShowBankPopup] = useState(false);\n  const [showVatPopup, setShowVatPopup] = useState(false);\n  const [showStepper, setShowStepper] = useState(false);\n  const [companyName, setCompanyName] = useState('');\n  const [companyNumber, setCompanyNumber] = useState('');\n  const [incorporationDate, setIncorporationDate] = useState('');\n  const [registeredOffice, setRegisteredOffice] = useState('');\n  const [website, setWebsite] = useState('');\n  const [contactEmail, setContactEmail] = useState('');\n  const [linkedinProfile, setLinkedinProfile] = useState('');\n  const [vatNumber, setVatNumber] = useState('');\n  const [bankProvider, setBankProvider] = useState('');\n  const [bankAccountOpened, setBankAccountOpened] = useState('');\n  const [logoUrl, setLogoUrl] = useState('');\n  const fileInputRef = useRef();\n  const [checklist, setChecklist] = useState([{\n    step: 'Company Name & Logo',\n    description: 'Set your legal company name and upload your logo.',\n    hasUpload: true,\n    uploadType: 'logo',\n    completed: false,\n    popup: 'companyName'\n  }, {\n    step: 'Company Number & Incorporation Date',\n    description: 'Record the Companies House number and date of incorporation.',\n    completed: false,\n    popup: 'companyNumber'\n  }, {\n    step: 'Registered Office & Contact Info',\n    description: 'Store your legal address, website, and contact emails.',\n    completed: false,\n    popup: 'office'\n  }, {\n    step: 'Articles of Association',\n    description: \"Upload your articles and confirm they're accessible to the team.\",\n    hasUpload: true,\n    uploadType: 'document',\n    completed: false\n  }, {\n    step: 'Shareholders & Cap Table',\n    description: 'Ensure initial shareholders are logged and cap table is added.',\n    hasLink: true,\n    linkText: 'View Cap Table',\n    linkTo: '/cap-table',\n    completed: false\n  }, {\n    step: 'Founder Agreements',\n    description: 'Upload signed founder agreements or SAFEs if applicable.',\n    hasUpload: true,\n    uploadType: 'document',\n    completed: false\n  }, {\n    step: 'IP Assignment',\n    description: 'Confirm IP assignment agreements are in place for founders and early team.',\n    hasUpload: true,\n    uploadType: 'document',\n    completed: false\n  }, {\n    step: 'NDAs',\n    description: 'Add template NDAs for future use and upload any executed ones.',\n    hasUpload: true,\n    uploadType: 'document',\n    completed: false\n  }, {\n    step: 'Business Bank Account',\n    description: 'Record banking provider and date account was opened.',\n    completed: false,\n    popup: 'bank'\n  }, {\n    step: 'VAT Registration',\n    description: 'Track your VAT registration number and effective date.',\n    completed: false,\n    popup: 'vat'\n  }, {\n    step: 'Insurance',\n    description: 'Upload insurance docs (public liability, employer liability, cyber etc).',\n    hasUpload: true,\n    uploadType: 'policy',\n    completed: false\n  }, {\n    step: 'Board Structure',\n    description: 'Define board members and roles. Upload board meeting template.',\n    hasUpload: true,\n    uploadType: 'document',\n    completed: false\n  }, {\n    step: 'Org Chart',\n    description: 'Add your org chart for internal visibility.',\n    hasUpload: true,\n    uploadType: 'image/file',\n    completed: false\n  }, {\n    step: \"Founders' Equity Vesting\",\n    description: \"Record any equity vesting schedules in place.\",\n    hasLink: true,\n    linkText: 'Link to Cap Table',\n    linkTo: '/cap-table',\n    completed: false\n  }, {\n    step: 'Compliance Deadlines',\n    description: 'Add reminders for annual filings, confirmation statements, and accounts.',\n    hasLink: true,\n    linkText: 'Add to calendar',\n    linkTo: '#',\n    completed: false\n  }]);\n\n  // Calculate progress percentage\n  const completedSteps = checklist.filter(item => item.completed).length;\n  const totalSteps = checklist.length;\n  const progressPercentage = Math.round(completedSteps / totalSteps * 100);\n  useEffect(() => {\n    fetchProfile(currentOrganization === null || currentOrganization === void 0 ? void 0 : currentOrganization.organization_id, setCompanyName, setCompanyNumber, setIncorporationDate, setRegisteredOffice, setWebsite, setContactEmail, setVatNumber, setBankProvider, setBankAccountOpened, setLogoUrl, setLinkedinProfile, setChecklist);\n  }, [currentOrganization]);\n  const handleToggleComplete = useCallback(index => {\n    setChecklist(prev => {\n      const newChecklist = [...prev];\n      newChecklist[index].completed = !newChecklist[index].completed;\n      return newChecklist;\n    });\n  }, []);\n  const handleStepClick = useCallback(index => {\n    const item = checklist[index];\n    if (item.popup) {\n      switch (item.popup) {\n        case 'companyName':\n          setShowCompanyPopup(true);\n          break;\n        case 'companyNumber':\n          setShowCompanyNumberPopup(true);\n          break;\n        case 'office':\n          setShowOfficePopup(true);\n          break;\n        case 'bank':\n          setShowBankPopup(true);\n          break;\n        case 'vat':\n          setShowVatPopup(true);\n          break;\n        default:\n          break;\n      }\n    }\n  }, []);\n  const handleCompanyNameSubmit = async e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    if (!companyName.trim() || !(currentOrganization !== null && currentOrganization !== void 0 && currentOrganization.organization_id)) return;\n    await upsertCompanyProfile({\n      organization_id: currentOrganization.organization_id,\n      name: companyName\n    });\n    setChecklist(prev => {\n      const newChecklist = [...prev];\n      newChecklist[0].completed = !!(companyName && logoUrl);\n      return newChecklist;\n    });\n    setShowCompanyPopup(false);\n  };\n  const handleCompanyNumberSubmit = async e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    if (!companyNumber.trim() || !incorporationDate || !(currentOrganization !== null && currentOrganization !== void 0 && currentOrganization.organization_id)) return;\n    await upsertCompanyProfile({\n      organization_id: currentOrganization.organization_id,\n      company_number: companyNumber,\n      incorporation_date: incorporationDate\n    });\n    setChecklist(prev => {\n      const newChecklist = [...prev];\n      newChecklist[1].completed = true;\n      return newChecklist;\n    });\n    setShowCompanyNumberPopup(false);\n  };\n  const handleOfficeSubmit = async e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    if (!registeredOffice.trim() || !website.trim() || !contactEmail.trim() || !(currentOrganization !== null && currentOrganization !== void 0 && currentOrganization.organization_id)) return;\n    await upsertCompanyProfile({\n      organization_id: currentOrganization.organization_id,\n      registered_office: registeredOffice,\n      website,\n      contact_email: contactEmail,\n      linkedin_profile: linkedinProfile\n    });\n    setChecklist(prev => {\n      const newChecklist = [...prev];\n      newChecklist[2].completed = true;\n      return newChecklist;\n    });\n    setShowOfficePopup(false);\n  };\n  const handleBankSubmit = async e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    if (!bankProvider.trim() || !bankAccountOpened || !(currentOrganization !== null && currentOrganization !== void 0 && currentOrganization.organization_id)) return;\n    await upsertCompanyProfile({\n      organization_id: currentOrganization.organization_id,\n      bank_provider: bankProvider,\n      bank_account_opened: bankAccountOpened\n    });\n    setChecklist(prev => {\n      const newChecklist = [...prev];\n      newChecklist[8].completed = true;\n      return newChecklist;\n    });\n    setShowBankPopup(false);\n  };\n  const handleVatSubmit = async e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    if (!vatNumber.trim() || !(currentOrganization !== null && currentOrganization !== void 0 && currentOrganization.organization_id)) return;\n    await upsertCompanyProfile({\n      organization_id: currentOrganization.organization_id,\n      vat_number: vatNumber\n    });\n    setChecklist(prev => {\n      const newChecklist = [...prev];\n      newChecklist[9].completed = true;\n      return newChecklist;\n    });\n    setShowVatPopup(false);\n  };\n  const handleLogoUpload = async e => {\n    const file = e.target.files[0];\n    if (!file || !(currentOrganization !== null && currentOrganization !== void 0 && currentOrganization.organization_id)) return;\n    const fileExt = file.name.split('.').pop();\n    const filePath = `${currentOrganization.organization_id}/logo.${fileExt}`;\n    const {\n      data: uploadData,\n      error: uploadError\n    } = await supabase.storage.from('company-logos').upload(filePath, file, {\n      upsert: true\n    });\n    if (uploadError) {\n      alert('Error uploading logo: ' + uploadError.message);\n      return;\n    }\n    const {\n      data: publicUrlData,\n      error: urlError\n    } = supabase.storage.from('company-logos').getPublicUrl(filePath);\n    if (urlError || !(publicUrlData !== null && publicUrlData !== void 0 && publicUrlData.publicUrl)) {\n      alert('Error getting logo URL');\n      return;\n    }\n    const publicUrl = publicUrlData.publicUrl;\n    setLogoUrl(publicUrl);\n    await upsertCompanyProfile({\n      organization_id: currentOrganization.organization_id,\n      logo_url: publicUrl\n    });\n  };\n  const OrgChart = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-50 border border-gray-200 rounded-lg p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-sm font-medium text-gray-800 mb-2\",\n      children: \"Org Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 770,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-700\",\n      children: \"Org chart content will be displayed here.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 769,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow border border-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-6 py-4 border-b border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-900\",\n        children: \"Company Setup Wizard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 780,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-sm text-gray-600\",\n        children: \"Complete your company setup step by step.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 779,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-6 py-4 border-b border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Setup Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-gray-600\",\n          children: [progressPercentage, \"% Complete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 788,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-200 rounded-full h-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-500 h-2 rounded-full transition-all duration-300\",\n          style: {\n            width: `${progressPercentage}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-blue-800 mb-2\",\n            children: \"Quick Setup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-700 mb-3\",\n            children: \"Click on any step to complete it. Some steps will open forms to collect information.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowStepper(true),\n            className: \"text-sm text-blue-600 hover:text-blue-800 underline\",\n            children: \"Start with Company Name \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: checklist.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${item.completed ? 'bg-green-50 border-green-200' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'}`,\n            onClick: () => handleStepClick(index),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.stopPropagation();\n                  handleToggleComplete(index);\n                },\n                className: `flex-shrink-0 ${item.completed ? 'text-green-600' : 'text-gray-400 hover:text-gray-600'}`,\n                children: /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                  className: \"h-6 w-6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 837,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 828,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: `text-sm font-medium ${item.completed ? 'text-green-800' : 'text-gray-900'}`,\n                  children: item.step\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 840,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-sm ${item.completed ? 'text-green-700' : 'text-gray-600'}`,\n                  children: item.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 843,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [item.hasUpload && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => e.stopPropagation(),\n                className: \"text-sm text-gray-600 hover:text-gray-800 flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(ArrowUpOnSquareIcon, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 854,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Upload\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 855,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 850,\n                columnNumber: 21\n              }, this), item.hasLink && /*#__PURE__*/_jsxDEV(\"a\", {\n                href: item.linkTo,\n                onClick: e => e.stopPropagation(),\n                className: \"text-sm text-blue-600 hover:text-blue-800 flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(LinkIcon, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 864,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: item.linkText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 865,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 859,\n                columnNumber: 21\n              }, this), item.popup && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded\",\n                children: \"Click to edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 17\n            }, this)]\n          }, item.step, true, {\n            fileName: _jsxFileName,\n            lineNumber: 820,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 803,\n      columnNumber: 7\n    }, this), showCompanyPopup && /*#__PURE__*/_jsxDEV(CompanyNamePopup, {\n      companyName: companyName,\n      setCompanyName: setCompanyName,\n      logoUrl: logoUrl,\n      fileInputRef: fileInputRef,\n      handleLogoUpload: handleLogoUpload,\n      handleCompanyNameSubmit: handleCompanyNameSubmit,\n      setShowCompanyPopup: setShowCompanyPopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 881,\n      columnNumber: 28\n    }, this), showCompanyNumberPopup && /*#__PURE__*/_jsxDEV(CompanyNumberPopup, {\n      companyNumber: companyNumber,\n      setCompanyNumber: setCompanyNumber,\n      incorporationDate: incorporationDate,\n      setIncorporationDate: setIncorporationDate,\n      handleCompanyNumberSubmit: handleCompanyNumberSubmit,\n      setShowCompanyNumberPopup: setShowCompanyNumberPopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 890,\n      columnNumber: 34\n    }, this), showOfficePopup && /*#__PURE__*/_jsxDEV(OfficePopup, {\n      registeredOffice: registeredOffice,\n      setRegisteredOffice: setRegisteredOffice,\n      website: website,\n      setWebsite: setWebsite,\n      contactEmail: contactEmail,\n      setContactEmail: setContactEmail,\n      linkedinProfile: linkedinProfile,\n      setLinkedinProfile: setLinkedinProfile,\n      handleOfficeSubmit: handleOfficeSubmit,\n      setShowOfficePopup: setShowOfficePopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 898,\n      columnNumber: 27\n    }, this), showBankPopup && /*#__PURE__*/_jsxDEV(BankPopup, {\n      bankProvider: bankProvider,\n      setBankProvider: setBankProvider,\n      bankAccountOpened: bankAccountOpened,\n      setBankAccountOpened: setBankAccountOpened,\n      handleBankSubmit: handleBankSubmit,\n      setShowBankPopup: setShowBankPopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 910,\n      columnNumber: 25\n    }, this), showVatPopup && /*#__PURE__*/_jsxDEV(VatPopup, {\n      vatNumber: vatNumber,\n      setVatNumber: setVatNumber,\n      handleVatSubmit: handleVatSubmit,\n      setShowVatPopup: setShowVatPopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 918,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(CompanySetupStepper, {\n      open: showStepper,\n      onClose: () => setShowStepper(false),\n      initialData: {\n        name: companyName,\n        logo_url: logoUrl,\n        company_number: companyNumber,\n        incorporation_date: incorporationDate,\n        registered_office: registeredOffice,\n        website,\n        contact_email: contactEmail,\n        linkedin_profile: linkedinProfile,\n        vat_number: vatNumber,\n        bank_provider: bankProvider,\n        bank_account_opened: bankAccountOpened\n      },\n      organizationId: currentOrganization === null || currentOrganization === void 0 ? void 0 : currentOrganization.organization_id,\n      onStepComplete: () => fetchProfile(currentOrganization === null || currentOrganization === void 0 ? void 0 : currentOrganization.organization_id, setCompanyName, setCompanyNumber, setIncorporationDate, setRegisteredOffice, setWebsite, setContactEmail, setVatNumber, setBankProvider, setBankAccountOpened, setLogoUrl, setLinkedinProfile, setChecklist)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 924,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 778,\n    columnNumber: 5\n  }, this);\n};\n_s2(FoundationDocuments, \"LhbqgT1gQLlgp8Jv+IJjJTGphBc=\", false, function () {\n  return [useAuth];\n});\n_c7 = FoundationDocuments;\nexport default FoundationDocuments;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"CompanyNamePopup\");\n$RefreshReg$(_c2, \"CompanyNumberPopup\");\n$RefreshReg$(_c3, \"OfficePopup\");\n$RefreshReg$(_c4, \"BankPopup\");\n$RefreshReg$(_c5, \"VatPopup\");\n$RefreshReg$(_c6, \"CompanySetupStepper\");\n$RefreshReg$(_c7, \"FoundationDocuments\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","CheckCircleIcon","LinkIcon","ArrowUpOnSquareIcon","DocumentTextIcon","BuildingOfficeIcon","useAuth","getCompanyProfile","upsertCompanyProfile","supabase","jsxDEV","_jsxDEV","Fragment","_Fragment","CompanyNamePopup","companyName","setCompanyName","logoUrl","fileInputRef","handleLogoUpload","handleCompanyNameSubmit","setShowCompanyPopup","className","children","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","src","alt","accept","ref","onChange","current","click","value","e","target","placeholder","autoFocus","_c","CompanyNumberPopup","companyNumber","setCompanyNumber","incorporationDate","setIncorporationDate","handleCompanyNumberSubmit","setShowCompanyNumberPopup","_c2","OfficePopup","registeredOffice","setRegisteredOffice","website","setWebsite","contactEmail","setContactEmail","linkedinProfile","setLinkedinProfile","handleOfficeSubmit","setShowOfficePopup","rows","_c3","BankPopup","bankProvider","setBankProvider","bankAccountOpened","setBankAccountOpened","handleBankSubmit","setShowBankPopup","_c4","VatPopup","vatNumber","setVatNumber","handleVatSubmit","setShowVatPopup","_c5","CompanySetupStepper","open","onClose","initialData","organizationId","onStepComplete","_s","step","setStep","saving","setSaving","error","setError","name","setName","setLogoUrl","logo_url","company_number","incorporation_date","registered_office","contact_email","linkedin_profile","vat_number","bank_provider","bank_account_opened","steps","label","content","file","files","fileExt","split","pop","filePath","uploadError","storage","from","upload","upsert","message","data","publicUrlData","urlError","getPublicUrl","publicUrl","save","organization_id","err","length","style","width","preventDefault","s","Math","max","disabled","_c6","fetchProfile","setChecklist","prev","map","item","idx","completed","FoundationDocuments","_s2","currentOrganization","showCompanyPopup","showCompanyNumberPopup","showOfficePopup","showBankPopup","showVatPopup","showStepper","setShowStepper","checklist","description","hasUpload","uploadType","popup","hasLink","linkText","linkTo","completedSteps","filter","totalSteps","progressPercentage","round","handleToggleComplete","index","newChecklist","handleStepClick","trim","uploadData","alert","OrgChart","stopPropagation","href","_c7","$RefreshReg$"],"sources":["/Users/markgiblin/Desktop/layrbase/src/pages/company-setup/components/foundation/FoundationDocuments.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { CheckCircleIcon, LinkIcon, ArrowUpOnSquareIcon, DocumentTextIcon, BuildingOfficeIcon } from '@heroicons/react/20/solid';\nimport { useAuth } from '../../../../contexts/AuthContext';\nimport { getCompanyProfile, upsertCompanyProfile } from '../../../../services/legalService';\nimport { supabase } from '../../../../lib/supabase';\n\n// Modal components moved outside to prevent re-creation\nconst CompanyNamePopup = ({ \n  companyName, setCompanyName, logoUrl, fileInputRef, handleLogoUpload, \n  handleCompanyNameSubmit, setShowCompanyPopup \n}) => (\n  <div className=\"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\">\n    <div className=\"h-full w-[600px] max-w-full bg-white shadow-2xl p-6 relative flex flex-col\">\n      <button\n        type=\"button\"\n        onClick={() => setShowCompanyPopup(false)}\n        className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\"\n        aria-label=\"Close\"\n      >\n        &times;\n      </button>\n      <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Enter Company Name & Logo</h3>\n      <form onSubmit={handleCompanyNameSubmit} className=\"flex-1 flex flex-col justify-between\">\n        <div>\n          <div className=\"flex flex-col items-center mb-4\">\n            <div className=\"mb-2 w-24 h-24 flex items-center justify-center bg-gray-100 rounded-full overflow-hidden\">\n              {logoUrl ? (\n                <img src={logoUrl} alt=\"Company Logo\" className=\"object-contain w-full h-full\" />\n              ) : (\n                <span className=\"text-gray-400 text-2xl font-bold\">Logo</span>\n              )}\n            </div>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              ref={fileInputRef}\n              onChange={handleLogoUpload}\n              className=\"hidden\"\n            />\n            <button\n              type=\"button\"\n              onClick={() => fileInputRef.current && fileInputRef.current.click()}\n              className=\"px-3 py-1.5 bg-blue-600 text-white rounded-md text-xs hover:bg-blue-700\"\n            >\n              {logoUrl ? 'Change Logo' : 'Upload Logo'}\n            </button>\n          </div>\n          <input\n            type=\"text\"\n            value={companyName}\n            onChange={(e) => setCompanyName(e.target.value)}\n            placeholder=\"Enter your company name...\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            autoFocus\n          />\n        </div>\n        <div className=\"mt-4 flex justify-end space-x-2\">\n          <button\n            type=\"button\"\n            onClick={() => setShowCompanyPopup(false)}\n            className=\"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n          >\n            Save\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n);\n\nconst CompanyNumberPopup = ({ \n  companyNumber, setCompanyNumber, incorporationDate, setIncorporationDate,\n  handleCompanyNumberSubmit, setShowCompanyNumberPopup \n}) => (\n  <div className=\"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\">\n    <div className=\"h-full w-[600px] max-w-full bg-white shadow-2xl p-6 relative flex flex-col\">\n      <button\n        type=\"button\"\n        onClick={() => setShowCompanyNumberPopup(false)}\n        className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\"\n        aria-label=\"Close\"\n      >\n        &times;\n      </button>\n      <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Company Number & Incorporation Date</h3>\n      <form onSubmit={handleCompanyNumberSubmit} className=\"flex-1 flex flex-col justify-between\">\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Company Number</label>\n            <input\n              type=\"text\"\n              value={companyNumber}\n              onChange={(e) => setCompanyNumber(e.target.value)}\n              placeholder=\"e.g., 12345678\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Incorporation Date</label>\n            <input\n              type=\"date\"\n              value={incorporationDate}\n              onChange={(e) => setIncorporationDate(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n        <div className=\"mt-4 flex justify-end space-x-2\">\n          <button\n            type=\"button\"\n            onClick={() => setShowCompanyNumberPopup(false)}\n            className=\"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n          >\n            Save\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n);\n\nconst OfficePopup = ({ \n  registeredOffice, setRegisteredOffice, website, setWebsite, contactEmail, setContactEmail,\n  linkedinProfile, setLinkedinProfile,\n  handleOfficeSubmit, setShowOfficePopup \n}) => (\n  <div className=\"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\">\n    <div className=\"h-full w-[600px] max-w-full bg-white shadow-2xl p-6 relative flex flex-col\">\n      <button\n        type=\"button\"\n        onClick={() => setShowOfficePopup(false)}\n        className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\"\n        aria-label=\"Close\"\n      >\n        &times;\n      </button>\n      <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Registered Office & Contact Info</h3>\n      <form onSubmit={handleOfficeSubmit} className=\"flex-1 flex flex-col justify-between\">\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Registered Office</label>\n            <textarea\n              value={registeredOffice}\n              onChange={(e) => setRegisteredOffice(e.target.value)}\n              placeholder=\"Full address...\"\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Website</label>\n            <input\n              type=\"url\"\n              value={website}\n              onChange={(e) => setWebsite(e.target.value)}\n              placeholder=\"www.yourcompany.com\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Contact Email</label>\n            <input\n              type=\"email\"\n              value={contactEmail}\n              onChange={(e) => setContactEmail(e.target.value)}\n              placeholder=\"hello@yourcompany.com\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">LinkedIn Profile</label>\n            <input\n              type=\"url\"\n              value={linkedinProfile}\n              onChange={(e) => setLinkedinProfile(e.target.value)}\n              placeholder=\"https://linkedin.com/company/yourcompany\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n        <div className=\"mt-4 flex justify-end space-x-2\">\n          <button\n            type=\"button\"\n            onClick={() => setShowOfficePopup(false)}\n            className=\"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n          >\n            Save\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n);\n\nconst BankPopup = ({ \n  bankProvider, setBankProvider, bankAccountOpened, setBankAccountOpened,\n  handleBankSubmit, setShowBankPopup \n}) => (\n  <div className=\"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\">\n    <div className=\"h-full w-[600px] max-w-full bg-white shadow-2xl p-6 relative flex flex-col\">\n      <button\n        type=\"button\"\n        onClick={() => setShowBankPopup(false)}\n        className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\"\n        aria-label=\"Close\"\n      >\n        &times;\n      </button>\n      <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Business Bank Account</h3>\n      <form onSubmit={handleBankSubmit} className=\"flex-1 flex flex-col justify-between\">\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Bank Provider</label>\n            <input\n              type=\"text\"\n              value={bankProvider}\n              onChange={(e) => setBankProvider(e.target.value)}\n              placeholder=\"e.g., Barclays Bank\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Account Opened Date</label>\n            <input\n              type=\"date\"\n              value={bankAccountOpened}\n              onChange={(e) => setBankAccountOpened(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n        <div className=\"mt-4 flex justify-end space-x-2\">\n          <button\n            type=\"button\"\n            onClick={() => setShowBankPopup(false)}\n            className=\"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n          >\n            Save\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n);\n\nconst VatPopup = ({ \n  vatNumber, setVatNumber, handleVatSubmit, setShowVatPopup \n}) => (\n  <div className=\"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\">\n    <div className=\"h-full w-[600px] max-w-full bg-white shadow-2xl p-6 relative flex flex-col\">\n      <button\n        type=\"button\"\n        onClick={() => setShowVatPopup(false)}\n        className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\"\n        aria-label=\"Close\"\n      >\n        &times;\n      </button>\n      <h3 className=\"text-lg font-medium text-gray-900 mb-4\">VAT Registration</h3>\n      <form onSubmit={handleVatSubmit} className=\"flex-1 flex flex-col justify-between\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">VAT Number</label>\n          <input\n            type=\"text\"\n            value={vatNumber}\n            onChange={(e) => setVatNumber(e.target.value)}\n            placeholder=\"e.g., GB123456789\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            autoFocus\n          />\n        </div>\n        <div className=\"mt-4 flex justify-end space-x-2\">\n          <button\n            type=\"button\"\n            onClick={() => setShowVatPopup(false)}\n            className=\"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n          >\n            Save\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n);\n\n// Stepper Wizard Component\nconst CompanySetupStepper = ({ open, onClose, initialData, organizationId, onStepComplete }) => {\n  const [step, setStep] = useState(0);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState('');\n  // Step form states\n  const [name, setName] = useState(initialData.name || '');\n  const [logoUrl, setLogoUrl] = useState(initialData.logo_url || '');\n  const fileInputRef = useRef();\n  const [companyNumber, setCompanyNumber] = useState(initialData.company_number || '');\n  const [incorporationDate, setIncorporationDate] = useState(initialData.incorporation_date || '');\n  const [registeredOffice, setRegisteredOffice] = useState(initialData.registered_office || '');\n  const [website, setWebsite] = useState(initialData.website || '');\n  const [contactEmail, setContactEmail] = useState(initialData.contact_email || '');\n  const [linkedinProfile, setLinkedinProfile] = useState(initialData.linkedin_profile || '');\n  const [vatNumber, setVatNumber] = useState(initialData.vat_number || '');\n  const [bankProvider, setBankProvider] = useState(initialData.bank_provider || '');\n  const [bankAccountOpened, setBankAccountOpened] = useState(initialData.bank_account_opened || '');\n\n  const steps = [\n    {\n      label: 'Company Name & Logo',\n      content: (\n        <>\n          <div className=\"flex flex-col items-center mb-4\">\n            <div className=\"mb-2 w-24 h-24 flex items-center justify-center bg-gray-100 rounded-full overflow-hidden\">\n              {logoUrl ? (\n                <img src={logoUrl} alt=\"Company Logo\" className=\"object-contain w-full h-full\" />\n              ) : (\n                <span className=\"text-gray-400 text-2xl font-bold\">Logo</span>\n              )}\n            </div>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              ref={fileInputRef}\n              onChange={async (e) => {\n                const file = e.target.files[0];\n                if (!file || !organizationId) return;\n                const fileExt = file.name.split('.').pop();\n                const filePath = `${organizationId}/logo.${fileExt}`;\n                const { error: uploadError } = await supabase.storage.from('company-logos').upload(filePath, file, { upsert: true });\n                if (uploadError) {\n                  setError('Error uploading logo: ' + uploadError.message);\n                  return;\n                }\n                const { data: publicUrlData, error: urlError } = supabase.storage.from('company-logos').getPublicUrl(filePath);\n                if (urlError || !publicUrlData?.publicUrl) {\n                  setError('Error getting logo URL');\n                  return;\n                }\n                setLogoUrl(publicUrlData.publicUrl);\n              }}\n              className=\"hidden\"\n            />\n            <button\n              type=\"button\"\n              onClick={() => fileInputRef.current && fileInputRef.current.click()}\n              className=\"px-3 py-1.5 bg-blue-600 text-white rounded-md text-xs hover:bg-blue-700 mt-2\"\n            >\n              {logoUrl ? 'Change Logo' : 'Upload Logo'}\n            </button>\n          </div>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={e => setName(e.target.value)}\n            placeholder=\"Enter your company name...\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            autoFocus\n          />\n        </>\n      ),\n      save: async () => {\n        setSaving(true); setError('');\n        try {\n          await upsertCompanyProfile({ organization_id: organizationId, name, logo_url: logoUrl });\n          onStepComplete && onStepComplete({ name, logo_url: logoUrl });\n        } catch (err) { setError(err.message || 'Failed to save.'); throw err; }\n        finally { setSaving(false); }\n      }\n    },\n    {\n      label: 'Company Number & Incorporation Date',\n      content: (\n        <>\n          <input\n            type=\"text\"\n            value={companyNumber}\n            onChange={e => setCompanyNumber(e.target.value)}\n            placeholder=\"Company Number\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\n          />\n          <input\n            type=\"date\"\n            value={incorporationDate}\n            onChange={e => setIncorporationDate(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </>\n      ),\n      save: async () => {\n        setSaving(true); setError('');\n        try {\n          await upsertCompanyProfile({ organization_id: organizationId, company_number: companyNumber, incorporation_date: incorporationDate });\n          onStepComplete && onStepComplete({ company_number: companyNumber, incorporation_date: incorporationDate });\n        } catch (err) { setError(err.message || 'Failed to save.'); throw err; }\n        finally { setSaving(false); }\n      }\n    },\n    {\n      label: 'Registered Office & Contact Info',\n      content: (\n        <>\n          <textarea\n            value={registeredOffice}\n            onChange={e => setRegisteredOffice(e.target.value)}\n            placeholder=\"Registered Office Address\"\n            rows={2}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\n          />\n          <input\n            type=\"url\"\n            value={website}\n            onChange={e => setWebsite(e.target.value)}\n            placeholder=\"Website\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\n          />\n          <input\n            type=\"email\"\n            value={contactEmail}\n            onChange={e => setContactEmail(e.target.value)}\n            placeholder=\"Contact Email\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\n          />\n          <input\n            type=\"url\"\n            value={linkedinProfile}\n            onChange={e => setLinkedinProfile(e.target.value)}\n            placeholder=\"LinkedIn Profile\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </>\n      ),\n      save: async () => {\n        setSaving(true); setError('');\n        try {\n          await upsertCompanyProfile({ organization_id: organizationId, registered_office: registeredOffice, website, contact_email: contactEmail, linkedin_profile: linkedinProfile });\n          onStepComplete && onStepComplete({ registered_office: registeredOffice, website, contact_email: contactEmail, linkedin_profile: linkedinProfile });\n        } catch (err) { setError(err.message || 'Failed to save.'); throw err; }\n        finally { setSaving(false); }\n      }\n    },\n    {\n      label: 'VAT Registration',\n      content: (\n        <input\n          type=\"text\"\n          value={vatNumber}\n          onChange={e => setVatNumber(e.target.value)}\n          placeholder=\"VAT Number\"\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      ),\n      save: async () => {\n        setSaving(true); setError('');\n        try {\n          await upsertCompanyProfile({ organization_id: organizationId, vat_number: vatNumber });\n          onStepComplete && onStepComplete({ vat_number: vatNumber });\n        } catch (err) { setError(err.message || 'Failed to save.'); throw err; }\n        finally { setSaving(false); }\n      }\n    },\n    {\n      label: 'Business Bank Account',\n      content: (\n        <>\n          <input\n            type=\"text\"\n            value={bankProvider}\n            onChange={e => setBankProvider(e.target.value)}\n            placeholder=\"Bank Provider\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4\"\n          />\n          <input\n            type=\"date\"\n            value={bankAccountOpened}\n            onChange={e => setBankAccountOpened(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </>\n      ),\n      save: async () => {\n        setSaving(true); setError('');\n        try {\n          await upsertCompanyProfile({ organization_id: organizationId, bank_provider: bankProvider, bank_account_opened: bankAccountOpened });\n          onStepComplete && onStepComplete({ bank_provider: bankProvider, bank_account_opened: bankAccountOpened });\n        } catch (err) { setError(err.message || 'Failed to save.'); throw err; }\n        finally { setSaving(false); }\n      }\n    }\n  ];\n\n  if (!open) return null;\n  return (\n    <div className=\"fixed inset-0 z-50 flex justify-end items-stretch bg-black bg-opacity-50\">\n      <div className=\"h-full w-[700px] max-w-full bg-white shadow-2xl p-8 relative flex flex-col\">\n        <button\n          type=\"button\"\n          onClick={onClose}\n          className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl\"\n          aria-label=\"Close\"\n        >\n          &times;\n        </button>\n        <div className=\"mb-6\">\n          <div className=\"text-xs text-gray-500 mb-2\">Step {step + 1} of {steps.length}</div>\n          <div className=\"text-xl font-bold text-gray-900 mb-1\">{steps[step].label}</div>\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n            <div className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\" style={{ width: `${((step + 1) / steps.length) * 100}%` }}></div>\n          </div>\n        </div>\n        <form className=\"flex-1 flex flex-col justify-between\" onSubmit={async e => { e.preventDefault(); await steps[step].save(); if (step < steps.length - 1) setStep(s => s + 1); else onClose(); }}>\n          <div>{steps[step].content}</div>\n          {error && <div className=\"text-red-600 text-sm mt-2\">{error}</div>}\n          <div className=\"flex justify-between mt-8\">\n            <button\n              type=\"button\"\n              onClick={() => setStep(s => Math.max(0, s - 1))}\n              className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200\"\n              disabled={step === 0 || saving}\n            >\n              Back\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\n              disabled={saving}\n            >\n              {step === steps.length - 1 ? 'Finish' : 'Next'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// Move fetchProfile to top-level\nasync function fetchProfile(organizationId, setCompanyName, setCompanyNumber, setIncorporationDate, setRegisteredOffice, setWebsite, setContactEmail, setVatNumber, setBankProvider, setBankAccountOpened, setLogoUrl, setLinkedinProfile, setChecklist) {\n  if (!organizationId) return;\n  const data = await getCompanyProfile(organizationId);\n  if (data) {\n    setCompanyName(data.name || '');\n    setCompanyNumber(data.company_number || '');\n    setIncorporationDate(data.incorporation_date || '');\n    setRegisteredOffice(data.registered_office || '');\n    setWebsite(data.website || '');\n    setContactEmail(data.contact_email || '');\n    setVatNumber(data.vat_number || '');\n    setBankProvider(data.bank_provider || '');\n    setBankAccountOpened(data.bank_account_opened || '');\n    setLogoUrl(data.logo_url || '');\n    setLinkedinProfile(data.linkedin_profile || '');\n    setChecklist((prev) => prev.map((item, idx) => {\n      switch (idx) {\n        case 0: return { ...item, completed: !!(data.name && data.logo_url) };\n        case 1: return { ...item, completed: !!(data.company_number && data.incorporation_date) };\n        case 2: return { ...item, completed: !!(data.registered_office && data.website && data.contact_email) };\n        case 8: return { ...item, completed: !!(data.bank_provider && data.bank_account_opened) };\n        case 9: return { ...item, completed: !!data.vat_number };\n        default: return item;\n      }\n    }));\n  }\n}\n\nconst FoundationDocuments = () => {\n  const { currentOrganization } = useAuth();\n  const [showCompanyPopup, setShowCompanyPopup] = useState(false);\n  const [showCompanyNumberPopup, setShowCompanyNumberPopup] = useState(false);\n  const [showOfficePopup, setShowOfficePopup] = useState(false);\n  const [showBankPopup, setShowBankPopup] = useState(false);\n  const [showVatPopup, setShowVatPopup] = useState(false);\n  const [showStepper, setShowStepper] = useState(false);\n  const [companyName, setCompanyName] = useState('');\n  const [companyNumber, setCompanyNumber] = useState('');\n  const [incorporationDate, setIncorporationDate] = useState('');\n  const [registeredOffice, setRegisteredOffice] = useState('');\n  const [website, setWebsite] = useState('');\n  const [contactEmail, setContactEmail] = useState('');\n  const [linkedinProfile, setLinkedinProfile] = useState('');\n  const [vatNumber, setVatNumber] = useState('');\n  const [bankProvider, setBankProvider] = useState('');\n  const [bankAccountOpened, setBankAccountOpened] = useState('');\n  const [logoUrl, setLogoUrl] = useState('');\n  const fileInputRef = useRef();\n  \n  const [checklist, setChecklist] = useState([\n    { step: 'Company Name & Logo', description: 'Set your legal company name and upload your logo.', hasUpload: true, uploadType: 'logo', completed: false, popup: 'companyName' },\n    { step: 'Company Number & Incorporation Date', description: 'Record the Companies House number and date of incorporation.', completed: false, popup: 'companyNumber' },\n    { step: 'Registered Office & Contact Info', description: 'Store your legal address, website, and contact emails.', completed: false, popup: 'office' },\n    { step: 'Articles of Association', description: \"Upload your articles and confirm they're accessible to the team.\", hasUpload: true, uploadType: 'document', completed: false },\n    { step: 'Shareholders & Cap Table', description: 'Ensure initial shareholders are logged and cap table is added.', hasLink: true, linkText: 'View Cap Table', linkTo: '/cap-table', completed: false },\n    { step: 'Founder Agreements', description: 'Upload signed founder agreements or SAFEs if applicable.', hasUpload: true, uploadType: 'document', completed: false },\n    { step: 'IP Assignment', description: 'Confirm IP assignment agreements are in place for founders and early team.', hasUpload: true, uploadType: 'document', completed: false },\n    { step: 'NDAs', description: 'Add template NDAs for future use and upload any executed ones.', hasUpload: true, uploadType: 'document', completed: false },\n    { step: 'Business Bank Account', description: 'Record banking provider and date account was opened.', completed: false, popup: 'bank' },\n    { step: 'VAT Registration', description: 'Track your VAT registration number and effective date.', completed: false, popup: 'vat' },\n    { step: 'Insurance', description: 'Upload insurance docs (public liability, employer liability, cyber etc).', hasUpload: true, uploadType: 'policy', completed: false },\n    { step: 'Board Structure', description: 'Define board members and roles. Upload board meeting template.', hasUpload: true, uploadType: 'document', completed: false },\n    { step: 'Org Chart', description: 'Add your org chart for internal visibility.', hasUpload: true, uploadType: 'image/file', completed: false },\n    { step: \"Founders' Equity Vesting\", description: \"Record any equity vesting schedules in place.\", hasLink: true, linkText: 'Link to Cap Table', linkTo: '/cap-table', completed: false },\n    { step: 'Compliance Deadlines', description: 'Add reminders for annual filings, confirmation statements, and accounts.', hasLink: true, linkText: 'Add to calendar', linkTo: '#', completed: false },\n  ]);\n\n  // Calculate progress percentage\n  const completedSteps = checklist.filter(item => item.completed).length;\n  const totalSteps = checklist.length;\n  const progressPercentage = Math.round((completedSteps / totalSteps) * 100);\n\n  useEffect(() => {\n    fetchProfile(\n      currentOrganization?.organization_id,\n      setCompanyName,\n      setCompanyNumber,\n      setIncorporationDate,\n      setRegisteredOffice,\n      setWebsite,\n      setContactEmail,\n      setVatNumber,\n      setBankProvider,\n      setBankAccountOpened,\n      setLogoUrl,\n      setLinkedinProfile,\n      setChecklist\n    );\n  }, [currentOrganization]);\n\n  const handleToggleComplete = useCallback((index) => {\n    setChecklist((prev) => {\n      const newChecklist = [...prev];\n      newChecklist[index].completed = !newChecklist[index].completed;\n      return newChecklist;\n    });\n  }, []);\n\n  const handleStepClick = useCallback((index) => {\n    const item = checklist[index];\n    if (item.popup) {\n      switch (item.popup) {\n        case 'companyName':\n          setShowCompanyPopup(true);\n          break;\n        case 'companyNumber':\n          setShowCompanyNumberPopup(true);\n          break;\n        case 'office':\n          setShowOfficePopup(true);\n          break;\n        case 'bank':\n          setShowBankPopup(true);\n          break;\n        case 'vat':\n          setShowVatPopup(true);\n          break;\n        default:\n          break;\n      }\n    }\n  }, []);\n\n  const handleCompanyNameSubmit = async (e) => {\n    e?.preventDefault();\n    if (!companyName.trim() || !currentOrganization?.organization_id) return;\n    await upsertCompanyProfile({ organization_id: currentOrganization.organization_id, name: companyName });\n    setChecklist((prev) => {\n      const newChecklist = [...prev];\n      newChecklist[0].completed = !!(companyName && logoUrl);\n      return newChecklist;\n    });\n    setShowCompanyPopup(false);\n  };\n\n  const handleCompanyNumberSubmit = async (e) => {\n    e?.preventDefault();\n    if (!companyNumber.trim() || !incorporationDate || !currentOrganization?.organization_id) return;\n    await upsertCompanyProfile({ organization_id: currentOrganization.organization_id, company_number: companyNumber, incorporation_date: incorporationDate });\n    setChecklist((prev) => {\n      const newChecklist = [...prev];\n      newChecklist[1].completed = true;\n      return newChecklist;\n    });\n    setShowCompanyNumberPopup(false);\n  };\n\n  const handleOfficeSubmit = async (e) => {\n    e?.preventDefault();\n    if (!registeredOffice.trim() || !website.trim() || !contactEmail.trim() || !currentOrganization?.organization_id) return;\n    await upsertCompanyProfile({ organization_id: currentOrganization.organization_id, registered_office: registeredOffice, website, contact_email: contactEmail, linkedin_profile: linkedinProfile });\n    setChecklist((prev) => {\n      const newChecklist = [...prev];\n      newChecklist[2].completed = true;\n      return newChecklist;\n    });\n    setShowOfficePopup(false);\n  };\n\n  const handleBankSubmit = async (e) => {\n    e?.preventDefault();\n    if (!bankProvider.trim() || !bankAccountOpened || !currentOrganization?.organization_id) return;\n    await upsertCompanyProfile({ organization_id: currentOrganization.organization_id, bank_provider: bankProvider, bank_account_opened: bankAccountOpened });\n    setChecklist((prev) => {\n      const newChecklist = [...prev];\n      newChecklist[8].completed = true;\n      return newChecklist;\n    });\n    setShowBankPopup(false);\n  };\n\n  const handleVatSubmit = async (e) => {\n    e?.preventDefault();\n    if (!vatNumber.trim() || !currentOrganization?.organization_id) return;\n    await upsertCompanyProfile({ organization_id: currentOrganization.organization_id, vat_number: vatNumber });\n    setChecklist((prev) => {\n      const newChecklist = [...prev];\n      newChecklist[9].completed = true;\n      return newChecklist;\n    });\n    setShowVatPopup(false);\n  };\n\n  const handleLogoUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file || !currentOrganization?.organization_id) return;\n    const fileExt = file.name.split('.').pop();\n    const filePath = `${currentOrganization.organization_id}/logo.${fileExt}`;\n    const { data: uploadData, error: uploadError } = await supabase.storage.from('company-logos').upload(filePath, file, { upsert: true });\n    if (uploadError) {\n      alert('Error uploading logo: ' + uploadError.message);\n      return;\n    }\n    const { data: publicUrlData, error: urlError } = supabase.storage.from('company-logos').getPublicUrl(filePath);\n    if (urlError || !publicUrlData?.publicUrl) {\n      alert('Error getting logo URL');\n      return;\n    }\n    const publicUrl = publicUrlData.publicUrl;\n    setLogoUrl(publicUrl);\n    await upsertCompanyProfile({ organization_id: currentOrganization.organization_id, logo_url: publicUrl });\n  };\n\n  const OrgChart = () => (\n    <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n      <h3 className=\"text-sm font-medium text-gray-800 mb-2\">Org Chart</h3>\n      <p className=\"text-sm text-gray-700\">\n        Org chart content will be displayed here.\n      </p>\n    </div>\n  );\n\n  return (\n    <div className=\"bg-white rounded-lg shadow border border-gray-200\">\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <h2 className=\"text-xl font-bold text-gray-900\">Company Setup Wizard</h2>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Complete your company setup step by step.\n        </p>\n      </div>\n\n      {/* Progress Bar */}\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Setup Progress</h3>\n          <span className=\"text-sm font-medium text-gray-600\">{progressPercentage}% Complete</span>\n        </div>\n        \n        {/* Overall Progress Bar */}\n        <div className=\"w-full bg-gray-200 rounded-full h-2\">\n          <div \n            className=\"bg-green-500 h-2 rounded-full transition-all duration-300\"\n            style={{ width: `${progressPercentage}%` }}\n          ></div>\n        </div>\n      </div>\n\n      {/* Wizard Content */}\n      <div className=\"p-6\">\n        <div className=\"space-y-4\">\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h3 className=\"text-sm font-medium text-blue-800 mb-2\">Quick Setup</h3>\n            <p className=\"text-sm text-blue-700 mb-3\">\n              Click on any step to complete it. Some steps will open forms to collect information.\n            </p>\n            <button\n              onClick={() => setShowStepper(true)}\n              className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n            >\n              Start with Company Name →\n            </button>\n          </div>\n\n          <div className=\"space-y-3\">\n            {checklist.map((item, index) => (\n              <div\n                key={item.step}\n                className={`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${\n                  item.completed ? 'bg-green-50 border-green-200' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'\n                }`}\n                onClick={() => handleStepClick(index)}\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleToggleComplete(index);\n                    }}\n                    className={`flex-shrink-0 ${\n                      item.completed ? 'text-green-600' : 'text-gray-400 hover:text-gray-600'\n                    }`}\n                  >\n                    <CheckCircleIcon className=\"h-6 w-6\" />\n                  </button>\n                  <div>\n                    <h4 className={`text-sm font-medium ${item.completed ? 'text-green-800' : 'text-gray-900'}`}>\n                      {item.step}\n                    </h4>\n                    <p className={`text-sm ${item.completed ? 'text-green-700' : 'text-gray-600'}`}>\n                      {item.description}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  {item.hasUpload && (\n                    <button \n                      onClick={(e) => e.stopPropagation()}\n                      className=\"text-sm text-gray-600 hover:text-gray-800 flex items-center space-x-1\"\n                    >\n                      <ArrowUpOnSquareIcon className=\"h-4 w-4\" />\n                      <span>Upload</span>\n                    </button>\n                  )}\n                  {item.hasLink && (\n                    <a \n                      href={item.linkTo} \n                      onClick={(e) => e.stopPropagation()}\n                      className=\"text-sm text-blue-600 hover:text-blue-800 flex items-center space-x-1\"\n                    >\n                      <LinkIcon className=\"h-4 w-4\" />\n                      <span>{item.linkText}</span>\n                    </a>\n                  )}\n                  {item.popup && (\n                    <span className=\"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded\">\n                      Click to edit\n                    </span>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Modals */}\n      {showCompanyPopup && <CompanyNamePopup \n        companyName={companyName}\n        setCompanyName={setCompanyName}\n        logoUrl={logoUrl}\n        fileInputRef={fileInputRef}\n        handleLogoUpload={handleLogoUpload}\n        handleCompanyNameSubmit={handleCompanyNameSubmit}\n        setShowCompanyPopup={setShowCompanyPopup}\n      />}\n      {showCompanyNumberPopup && <CompanyNumberPopup \n        companyNumber={companyNumber}\n        setCompanyNumber={setCompanyNumber}\n        incorporationDate={incorporationDate}\n        setIncorporationDate={setIncorporationDate}\n        handleCompanyNumberSubmit={handleCompanyNumberSubmit}\n        setShowCompanyNumberPopup={setShowCompanyNumberPopup}\n      />}\n      {showOfficePopup && <OfficePopup \n        registeredOffice={registeredOffice}\n        setRegisteredOffice={setRegisteredOffice}\n        website={website}\n        setWebsite={setWebsite}\n        contactEmail={contactEmail}\n        setContactEmail={setContactEmail}\n        linkedinProfile={linkedinProfile}\n        setLinkedinProfile={setLinkedinProfile}\n        handleOfficeSubmit={handleOfficeSubmit}\n        setShowOfficePopup={setShowOfficePopup}\n      />}\n      {showBankPopup && <BankPopup \n        bankProvider={bankProvider}\n        setBankProvider={setBankProvider}\n        bankAccountOpened={bankAccountOpened}\n        setBankAccountOpened={setBankAccountOpened}\n        handleBankSubmit={handleBankSubmit}\n        setShowBankPopup={setShowBankPopup}\n      />}\n      {showVatPopup && <VatPopup \n        vatNumber={vatNumber}\n        setVatNumber={setVatNumber}\n        handleVatSubmit={handleVatSubmit}\n        setShowVatPopup={setShowVatPopup}\n      />}\n      <CompanySetupStepper\n        open={showStepper}\n        onClose={() => setShowStepper(false)}\n        initialData={{\n          name: companyName,\n          logo_url: logoUrl,\n          company_number: companyNumber,\n          incorporation_date: incorporationDate,\n          registered_office: registeredOffice,\n          website,\n          contact_email: contactEmail,\n          linkedin_profile: linkedinProfile,\n          vat_number: vatNumber,\n          bank_provider: bankProvider,\n          bank_account_opened: bankAccountOpened\n        }}\n        organizationId={currentOrganization?.organization_id}\n        onStepComplete={() => fetchProfile(\n          currentOrganization?.organization_id,\n          setCompanyName,\n          setCompanyNumber,\n          setIncorporationDate,\n          setRegisteredOffice,\n          setWebsite,\n          setContactEmail,\n          setVatNumber,\n          setBankProvider,\n          setBankAccountOpened,\n          setLogoUrl,\n          setLinkedinProfile,\n          setChecklist\n        )}\n      />\n    </div>\n  );\n};\n\nexport default FoundationDocuments; "],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,eAAe,EAAEC,QAAQ,EAAEC,mBAAmB,EAAEC,gBAAgB,EAAEC,kBAAkB,QAAQ,2BAA2B;AAChI,SAASC,OAAO,QAAQ,kCAAkC;AAC1D,SAASC,iBAAiB,EAAEC,oBAAoB,QAAQ,mCAAmC;AAC3F,SAASC,QAAQ,QAAQ,0BAA0B;;AAEnD;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,gBAAgB,GAAGA,CAAC;EACxBC,WAAW;EAAEC,cAAc;EAAEC,OAAO;EAAEC,YAAY;EAAEC,gBAAgB;EACpEC,uBAAuB;EAAEC;AAC3B,CAAC,kBACCV,OAAA;EAAKW,SAAS,EAAC,0EAA0E;EAAAC,QAAA,eACvFZ,OAAA;IAAKW,SAAS,EAAC,4EAA4E;IAAAC,QAAA,gBACzFZ,OAAA;MACEa,IAAI,EAAC,QAAQ;MACbC,OAAO,EAAEA,CAAA,KAAMJ,mBAAmB,CAAC,KAAK,CAAE;MAC1CC,SAAS,EAAC,mEAAmE;MAC7E,cAAW,OAAO;MAAAC,QAAA,EACnB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTlB,OAAA;MAAIW,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAyB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACrFlB,OAAA;MAAMmB,QAAQ,EAAEV,uBAAwB;MAACE,SAAS,EAAC,sCAAsC;MAAAC,QAAA,gBACvFZ,OAAA;QAAAY,QAAA,gBACEZ,OAAA;UAAKW,SAAS,EAAC,iCAAiC;UAAAC,QAAA,gBAC9CZ,OAAA;YAAKW,SAAS,EAAC,0FAA0F;YAAAC,QAAA,EACtGN,OAAO,gBACNN,OAAA;cAAKoB,GAAG,EAAEd,OAAQ;cAACe,GAAG,EAAC,cAAc;cAACV,SAAS,EAAC;YAA8B;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAEjFlB,OAAA;cAAMW,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAI;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAC9D;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACNlB,OAAA;YACEa,IAAI,EAAC,MAAM;YACXS,MAAM,EAAC,SAAS;YAChBC,GAAG,EAAEhB,YAAa;YAClBiB,QAAQ,EAAEhB,gBAAiB;YAC3BG,SAAS,EAAC;UAAQ;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC,eACFlB,OAAA;YACEa,IAAI,EAAC,QAAQ;YACbC,OAAO,EAAEA,CAAA,KAAMP,YAAY,CAACkB,OAAO,IAAIlB,YAAY,CAACkB,OAAO,CAACC,KAAK,CAAC,CAAE;YACpEf,SAAS,EAAC,yEAAyE;YAAAC,QAAA,EAElFN,OAAO,GAAG,aAAa,GAAG;UAAa;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNlB,OAAA;UACEa,IAAI,EAAC,MAAM;UACXc,KAAK,EAAEvB,WAAY;UACnBoB,QAAQ,EAAGI,CAAC,IAAKvB,cAAc,CAACuB,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;UAChDG,WAAW,EAAC,4BAA4B;UACxCnB,SAAS,EAAC,wGAAwG;UAClHoB,SAAS;QAAA;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNlB,OAAA;QAAKW,SAAS,EAAC,iCAAiC;QAAAC,QAAA,gBAC9CZ,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbC,OAAO,EAAEA,CAAA,KAAMJ,mBAAmB,CAAC,KAAK,CAAE;UAC1CC,SAAS,EAAC,kEAAkE;UAAAC,QAAA,EAC7E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTlB,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbF,SAAS,EAAC,+DAA+D;UAAAC,QAAA,EAC1E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACH,CACN;AAACc,EAAA,GAnEI7B,gBAAgB;AAqEtB,MAAM8B,kBAAkB,GAAGA,CAAC;EAC1BC,aAAa;EAAEC,gBAAgB;EAAEC,iBAAiB;EAAEC,oBAAoB;EACxEC,yBAAyB;EAAEC;AAC7B,CAAC,kBACCvC,OAAA;EAAKW,SAAS,EAAC,0EAA0E;EAAAC,QAAA,eACvFZ,OAAA;IAAKW,SAAS,EAAC,4EAA4E;IAAAC,QAAA,gBACzFZ,OAAA;MACEa,IAAI,EAAC,QAAQ;MACbC,OAAO,EAAEA,CAAA,KAAMyB,yBAAyB,CAAC,KAAK,CAAE;MAChD5B,SAAS,EAAC,mEAAmE;MAC7E,cAAW,OAAO;MAAAC,QAAA,EACnB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTlB,OAAA;MAAIW,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAmC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC/FlB,OAAA;MAAMmB,QAAQ,EAAEmB,yBAA0B;MAAC3B,SAAS,EAAC,sCAAsC;MAAAC,QAAA,gBACzFZ,OAAA;QAAKW,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxBZ,OAAA;UAAAY,QAAA,gBACEZ,OAAA;YAAOW,SAAS,EAAC,8CAA8C;YAAAC,QAAA,EAAC;UAAc;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACtFlB,OAAA;YACEa,IAAI,EAAC,MAAM;YACXc,KAAK,EAAEO,aAAc;YACrBV,QAAQ,EAAGI,CAAC,IAAKO,gBAAgB,CAACP,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;YAClDG,WAAW,EAAC,gBAAgB;YAC5BnB,SAAS,EAAC;UAAwG;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNlB,OAAA;UAAAY,QAAA,gBACEZ,OAAA;YAAOW,SAAS,EAAC,8CAA8C;YAAAC,QAAA,EAAC;UAAkB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1FlB,OAAA;YACEa,IAAI,EAAC,MAAM;YACXc,KAAK,EAAES,iBAAkB;YACzBZ,QAAQ,EAAGI,CAAC,IAAKS,oBAAoB,CAACT,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;YACtDhB,SAAS,EAAC;UAAwG;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNlB,OAAA;QAAKW,SAAS,EAAC,iCAAiC;QAAAC,QAAA,gBAC9CZ,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbC,OAAO,EAAEA,CAAA,KAAMyB,yBAAyB,CAAC,KAAK,CAAE;UAChD5B,SAAS,EAAC,kEAAkE;UAAAC,QAAA,EAC7E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTlB,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbF,SAAS,EAAC,+DAA+D;UAAAC,QAAA,EAC1E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACH,CACN;AAACsB,GAAA,GAvDIP,kBAAkB;AAyDxB,MAAMQ,WAAW,GAAGA,CAAC;EACnBC,gBAAgB;EAAEC,mBAAmB;EAAEC,OAAO;EAAEC,UAAU;EAAEC,YAAY;EAAEC,eAAe;EACzFC,eAAe;EAAEC,kBAAkB;EACnCC,kBAAkB;EAAEC;AACtB,CAAC,kBACCnD,OAAA;EAAKW,SAAS,EAAC,0EAA0E;EAAAC,QAAA,eACvFZ,OAAA;IAAKW,SAAS,EAAC,4EAA4E;IAAAC,QAAA,gBACzFZ,OAAA;MACEa,IAAI,EAAC,QAAQ;MACbC,OAAO,EAAEA,CAAA,KAAMqC,kBAAkB,CAAC,KAAK,CAAE;MACzCxC,SAAS,EAAC,mEAAmE;MAC7E,cAAW,OAAO;MAAAC,QAAA,EACnB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTlB,OAAA;MAAIW,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAgC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5FlB,OAAA;MAAMmB,QAAQ,EAAE+B,kBAAmB;MAACvC,SAAS,EAAC,sCAAsC;MAAAC,QAAA,gBAClFZ,OAAA;QAAKW,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxBZ,OAAA;UAAAY,QAAA,gBACEZ,OAAA;YAAOW,SAAS,EAAC,8CAA8C;YAAAC,QAAA,EAAC;UAAiB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzFlB,OAAA;YACE2B,KAAK,EAAEe,gBAAiB;YACxBlB,QAAQ,EAAGI,CAAC,IAAKe,mBAAmB,CAACf,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;YACrDG,WAAW,EAAC,iBAAiB;YAC7BsB,IAAI,EAAE,CAAE;YACRzC,SAAS,EAAC;UAAwG;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNlB,OAAA;UAAAY,QAAA,gBACEZ,OAAA;YAAOW,SAAS,EAAC,8CAA8C;YAAAC,QAAA,EAAC;UAAO;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC/ElB,OAAA;YACEa,IAAI,EAAC,KAAK;YACVc,KAAK,EAAEiB,OAAQ;YACfpB,QAAQ,EAAGI,CAAC,IAAKiB,UAAU,CAACjB,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;YAC5CG,WAAW,EAAC,qBAAqB;YACjCnB,SAAS,EAAC;UAAwG;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNlB,OAAA;UAAAY,QAAA,gBACEZ,OAAA;YAAOW,SAAS,EAAC,8CAA8C;YAAAC,QAAA,EAAC;UAAa;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrFlB,OAAA;YACEa,IAAI,EAAC,OAAO;YACZc,KAAK,EAAEmB,YAAa;YACpBtB,QAAQ,EAAGI,CAAC,IAAKmB,eAAe,CAACnB,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;YACjDG,WAAW,EAAC,uBAAuB;YACnCnB,SAAS,EAAC;UAAwG;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNlB,OAAA;UAAAY,QAAA,gBACEZ,OAAA;YAAOW,SAAS,EAAC,8CAA8C;YAAAC,QAAA,EAAC;UAAgB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxFlB,OAAA;YACEa,IAAI,EAAC,KAAK;YACVc,KAAK,EAAEqB,eAAgB;YACvBxB,QAAQ,EAAGI,CAAC,IAAKqB,kBAAkB,CAACrB,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;YACpDG,WAAW,EAAC,0CAA0C;YACtDnB,SAAS,EAAC;UAAwG;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNlB,OAAA;QAAKW,SAAS,EAAC,iCAAiC;QAAAC,QAAA,gBAC9CZ,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbC,OAAO,EAAEA,CAAA,KAAMqC,kBAAkB,CAAC,KAAK,CAAE;UACzCxC,SAAS,EAAC,kEAAkE;UAAAC,QAAA,EAC7E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTlB,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbF,SAAS,EAAC,+DAA+D;UAAAC,QAAA,EAC1E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACH,CACN;AAACmC,GAAA,GA7EIZ,WAAW;AA+EjB,MAAMa,SAAS,GAAGA,CAAC;EACjBC,YAAY;EAAEC,eAAe;EAAEC,iBAAiB;EAAEC,oBAAoB;EACtEC,gBAAgB;EAAEC;AACpB,CAAC,kBACC5D,OAAA;EAAKW,SAAS,EAAC,0EAA0E;EAAAC,QAAA,eACvFZ,OAAA;IAAKW,SAAS,EAAC,4EAA4E;IAAAC,QAAA,gBACzFZ,OAAA;MACEa,IAAI,EAAC,QAAQ;MACbC,OAAO,EAAEA,CAAA,KAAM8C,gBAAgB,CAAC,KAAK,CAAE;MACvCjD,SAAS,EAAC,mEAAmE;MAC7E,cAAW,OAAO;MAAAC,QAAA,EACnB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTlB,OAAA;MAAIW,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAqB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACjFlB,OAAA;MAAMmB,QAAQ,EAAEwC,gBAAiB;MAAChD,SAAS,EAAC,sCAAsC;MAAAC,QAAA,gBAChFZ,OAAA;QAAKW,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxBZ,OAAA;UAAAY,QAAA,gBACEZ,OAAA;YAAOW,SAAS,EAAC,8CAA8C;YAAAC,QAAA,EAAC;UAAa;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrFlB,OAAA;YACEa,IAAI,EAAC,MAAM;YACXc,KAAK,EAAE4B,YAAa;YACpB/B,QAAQ,EAAGI,CAAC,IAAK4B,eAAe,CAAC5B,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;YACjDG,WAAW,EAAC,qBAAqB;YACjCnB,SAAS,EAAC;UAAwG;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNlB,OAAA;UAAAY,QAAA,gBACEZ,OAAA;YAAOW,SAAS,EAAC,8CAA8C;YAAAC,QAAA,EAAC;UAAmB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC3FlB,OAAA;YACEa,IAAI,EAAC,MAAM;YACXc,KAAK,EAAE8B,iBAAkB;YACzBjC,QAAQ,EAAGI,CAAC,IAAK8B,oBAAoB,CAAC9B,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;YACtDhB,SAAS,EAAC;UAAwG;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNlB,OAAA;QAAKW,SAAS,EAAC,iCAAiC;QAAAC,QAAA,gBAC9CZ,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbC,OAAO,EAAEA,CAAA,KAAM8C,gBAAgB,CAAC,KAAK,CAAE;UACvCjD,SAAS,EAAC,kEAAkE;UAAAC,QAAA,EAC7E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTlB,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbF,SAAS,EAAC,+DAA+D;UAAAC,QAAA,EAC1E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACH,CACN;AAAC2C,GAAA,GAvDIP,SAAS;AAyDf,MAAMQ,QAAQ,GAAGA,CAAC;EAChBC,SAAS;EAAEC,YAAY;EAAEC,eAAe;EAAEC;AAC5C,CAAC,kBACClE,OAAA;EAAKW,SAAS,EAAC,0EAA0E;EAAAC,QAAA,eACvFZ,OAAA;IAAKW,SAAS,EAAC,4EAA4E;IAAAC,QAAA,gBACzFZ,OAAA;MACEa,IAAI,EAAC,QAAQ;MACbC,OAAO,EAAEA,CAAA,KAAMoD,eAAe,CAAC,KAAK,CAAE;MACtCvD,SAAS,EAAC,mEAAmE;MAC7E,cAAW,OAAO;MAAAC,QAAA,EACnB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTlB,OAAA;MAAIW,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAgB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5ElB,OAAA;MAAMmB,QAAQ,EAAE8C,eAAgB;MAACtD,SAAS,EAAC,sCAAsC;MAAAC,QAAA,gBAC/EZ,OAAA;QAAAY,QAAA,gBACEZ,OAAA;UAAOW,SAAS,EAAC,8CAA8C;UAAAC,QAAA,EAAC;QAAU;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAClFlB,OAAA;UACEa,IAAI,EAAC,MAAM;UACXc,KAAK,EAAEoC,SAAU;UACjBvC,QAAQ,EAAGI,CAAC,IAAKoC,YAAY,CAACpC,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;UAC9CG,WAAW,EAAC,mBAAmB;UAC/BnB,SAAS,EAAC,wGAAwG;UAClHoB,SAAS;QAAA;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNlB,OAAA;QAAKW,SAAS,EAAC,iCAAiC;QAAAC,QAAA,gBAC9CZ,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbC,OAAO,EAAEA,CAAA,KAAMoD,eAAe,CAAC,KAAK,CAAE;UACtCvD,SAAS,EAAC,kEAAkE;UAAAC,QAAA,EAC7E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTlB,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbF,SAAS,EAAC,+DAA+D;UAAAC,QAAA,EAC1E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACH,CACN;;AAED;AAAAiD,GAAA,GA9CML,QAAQ;AA+Cd,MAAMM,mBAAmB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,OAAO;EAAEC,WAAW;EAAEC,cAAc;EAAEC;AAAe,CAAC,KAAK;EAAAC,EAAA;EAC9F,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAG1F,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAAC2F,MAAM,EAAEC,SAAS,CAAC,GAAG5F,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAAC6F,KAAK,EAAEC,QAAQ,CAAC,GAAG9F,QAAQ,CAAC,EAAE,CAAC;EACtC;EACA,MAAM,CAAC+F,IAAI,EAAEC,OAAO,CAAC,GAAGhG,QAAQ,CAACqF,WAAW,CAACU,IAAI,IAAI,EAAE,CAAC;EACxD,MAAM,CAAC3E,OAAO,EAAE6E,UAAU,CAAC,GAAGjG,QAAQ,CAACqF,WAAW,CAACa,QAAQ,IAAI,EAAE,CAAC;EAClE,MAAM7E,YAAY,GAAGnB,MAAM,CAAC,CAAC;EAC7B,MAAM,CAAC8C,aAAa,EAAEC,gBAAgB,CAAC,GAAGjD,QAAQ,CAACqF,WAAW,CAACc,cAAc,IAAI,EAAE,CAAC;EACpF,MAAM,CAACjD,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGnD,QAAQ,CAACqF,WAAW,CAACe,kBAAkB,IAAI,EAAE,CAAC;EAChG,MAAM,CAAC5C,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGzD,QAAQ,CAACqF,WAAW,CAACgB,iBAAiB,IAAI,EAAE,CAAC;EAC7F,MAAM,CAAC3C,OAAO,EAAEC,UAAU,CAAC,GAAG3D,QAAQ,CAACqF,WAAW,CAAC3B,OAAO,IAAI,EAAE,CAAC;EACjE,MAAM,CAACE,YAAY,EAAEC,eAAe,CAAC,GAAG7D,QAAQ,CAACqF,WAAW,CAACiB,aAAa,IAAI,EAAE,CAAC;EACjF,MAAM,CAACxC,eAAe,EAAEC,kBAAkB,CAAC,GAAG/D,QAAQ,CAACqF,WAAW,CAACkB,gBAAgB,IAAI,EAAE,CAAC;EAC1F,MAAM,CAAC1B,SAAS,EAAEC,YAAY,CAAC,GAAG9E,QAAQ,CAACqF,WAAW,CAACmB,UAAU,IAAI,EAAE,CAAC;EACxE,MAAM,CAACnC,YAAY,EAAEC,eAAe,CAAC,GAAGtE,QAAQ,CAACqF,WAAW,CAACoB,aAAa,IAAI,EAAE,CAAC;EACjF,MAAM,CAAClC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGxE,QAAQ,CAACqF,WAAW,CAACqB,mBAAmB,IAAI,EAAE,CAAC;EAEjG,MAAMC,KAAK,GAAG,CACZ;IACEC,KAAK,EAAE,qBAAqB;IAC5BC,OAAO,eACL/F,OAAA,CAAAE,SAAA;MAAAU,QAAA,gBACEZ,OAAA;QAAKW,SAAS,EAAC,iCAAiC;QAAAC,QAAA,gBAC9CZ,OAAA;UAAKW,SAAS,EAAC,0FAA0F;UAAAC,QAAA,EACtGN,OAAO,gBACNN,OAAA;YAAKoB,GAAG,EAAEd,OAAQ;YAACe,GAAG,EAAC,cAAc;YAACV,SAAS,EAAC;UAA8B;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAEjFlB,OAAA;YAAMW,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAAI;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAC9D;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eACNlB,OAAA;UACEa,IAAI,EAAC,MAAM;UACXS,MAAM,EAAC,SAAS;UAChBC,GAAG,EAAEhB,YAAa;UAClBiB,QAAQ,EAAE,MAAOI,CAAC,IAAK;YACrB,MAAMoE,IAAI,GAAGpE,CAAC,CAACC,MAAM,CAACoE,KAAK,CAAC,CAAC,CAAC;YAC9B,IAAI,CAACD,IAAI,IAAI,CAACxB,cAAc,EAAE;YAC9B,MAAM0B,OAAO,GAAGF,IAAI,CAACf,IAAI,CAACkB,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC;YAC1C,MAAMC,QAAQ,GAAG,GAAG7B,cAAc,SAAS0B,OAAO,EAAE;YACpD,MAAM;cAAEnB,KAAK,EAAEuB;YAAY,CAAC,GAAG,MAAMxG,QAAQ,CAACyG,OAAO,CAACC,IAAI,CAAC,eAAe,CAAC,CAACC,MAAM,CAACJ,QAAQ,EAAEL,IAAI,EAAE;cAAEU,MAAM,EAAE;YAAK,CAAC,CAAC;YACpH,IAAIJ,WAAW,EAAE;cACftB,QAAQ,CAAC,wBAAwB,GAAGsB,WAAW,CAACK,OAAO,CAAC;cACxD;YACF;YACA,MAAM;cAAEC,IAAI,EAAEC,aAAa;cAAE9B,KAAK,EAAE+B;YAAS,CAAC,GAAGhH,QAAQ,CAACyG,OAAO,CAACC,IAAI,CAAC,eAAe,CAAC,CAACO,YAAY,CAACV,QAAQ,CAAC;YAC9G,IAAIS,QAAQ,IAAI,EAACD,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAEG,SAAS,GAAE;cACzChC,QAAQ,CAAC,wBAAwB,CAAC;cAClC;YACF;YACAG,UAAU,CAAC0B,aAAa,CAACG,SAAS,CAAC;UACrC,CAAE;UACFrG,SAAS,EAAC;QAAQ;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACFlB,OAAA;UACEa,IAAI,EAAC,QAAQ;UACbC,OAAO,EAAEA,CAAA,KAAMP,YAAY,CAACkB,OAAO,IAAIlB,YAAY,CAACkB,OAAO,CAACC,KAAK,CAAC,CAAE;UACpEf,SAAS,EAAC,8EAA8E;UAAAC,QAAA,EAEvFN,OAAO,GAAG,aAAa,GAAG;QAAa;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eACNlB,OAAA;QACEa,IAAI,EAAC,MAAM;QACXc,KAAK,EAAEsD,IAAK;QACZzD,QAAQ,EAAEI,CAAC,IAAIsD,OAAO,CAACtD,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;QACvCG,WAAW,EAAC,4BAA4B;QACxCnB,SAAS,EAAC,wGAAwG;QAClHoB,SAAS;MAAA;QAAAhB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC;IAAA,eACF,CACH;IACD+F,IAAI,EAAE,MAAAA,CAAA,KAAY;MAChBnC,SAAS,CAAC,IAAI,CAAC;MAAEE,QAAQ,CAAC,EAAE,CAAC;MAC7B,IAAI;QACF,MAAMnF,oBAAoB,CAAC;UAAEqH,eAAe,EAAE1C,cAAc;UAAES,IAAI;UAAEG,QAAQ,EAAE9E;QAAQ,CAAC,CAAC;QACxFmE,cAAc,IAAIA,cAAc,CAAC;UAAEQ,IAAI;UAAEG,QAAQ,EAAE9E;QAAQ,CAAC,CAAC;MAC/D,CAAC,CAAC,OAAO6G,GAAG,EAAE;QAAEnC,QAAQ,CAACmC,GAAG,CAACR,OAAO,IAAI,iBAAiB,CAAC;QAAE,MAAMQ,GAAG;MAAE,CAAC,SAChE;QAAErC,SAAS,CAAC,KAAK,CAAC;MAAE;IAC9B;EACF,CAAC,EACD;IACEgB,KAAK,EAAE,qCAAqC;IAC5CC,OAAO,eACL/F,OAAA,CAAAE,SAAA;MAAAU,QAAA,gBACEZ,OAAA;QACEa,IAAI,EAAC,MAAM;QACXc,KAAK,EAAEO,aAAc;QACrBV,QAAQ,EAAEI,CAAC,IAAIO,gBAAgB,CAACP,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;QAChDG,WAAW,EAAC,gBAAgB;QAC5BnB,SAAS,EAAC;MAA6G;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxH,CAAC,eACFlB,OAAA;QACEa,IAAI,EAAC,MAAM;QACXc,KAAK,EAAES,iBAAkB;QACzBZ,QAAQ,EAAEI,CAAC,IAAIS,oBAAoB,CAACT,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;QACpDhB,SAAS,EAAC;MAAwG;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnH,CAAC;IAAA,eACF,CACH;IACD+F,IAAI,EAAE,MAAAA,CAAA,KAAY;MAChBnC,SAAS,CAAC,IAAI,CAAC;MAAEE,QAAQ,CAAC,EAAE,CAAC;MAC7B,IAAI;QACF,MAAMnF,oBAAoB,CAAC;UAAEqH,eAAe,EAAE1C,cAAc;UAAEa,cAAc,EAAEnD,aAAa;UAAEoD,kBAAkB,EAAElD;QAAkB,CAAC,CAAC;QACrIqC,cAAc,IAAIA,cAAc,CAAC;UAAEY,cAAc,EAAEnD,aAAa;UAAEoD,kBAAkB,EAAElD;QAAkB,CAAC,CAAC;MAC5G,CAAC,CAAC,OAAO+E,GAAG,EAAE;QAAEnC,QAAQ,CAACmC,GAAG,CAACR,OAAO,IAAI,iBAAiB,CAAC;QAAE,MAAMQ,GAAG;MAAE,CAAC,SAChE;QAAErC,SAAS,CAAC,KAAK,CAAC;MAAE;IAC9B;EACF,CAAC,EACD;IACEgB,KAAK,EAAE,kCAAkC;IACzCC,OAAO,eACL/F,OAAA,CAAAE,SAAA;MAAAU,QAAA,gBACEZ,OAAA;QACE2B,KAAK,EAAEe,gBAAiB;QACxBlB,QAAQ,EAAEI,CAAC,IAAIe,mBAAmB,CAACf,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;QACnDG,WAAW,EAAC,2BAA2B;QACvCsB,IAAI,EAAE,CAAE;QACRzC,SAAS,EAAC;MAA6G;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxH,CAAC,eACFlB,OAAA;QACEa,IAAI,EAAC,KAAK;QACVc,KAAK,EAAEiB,OAAQ;QACfpB,QAAQ,EAAEI,CAAC,IAAIiB,UAAU,CAACjB,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;QAC1CG,WAAW,EAAC,SAAS;QACrBnB,SAAS,EAAC;MAA6G;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxH,CAAC,eACFlB,OAAA;QACEa,IAAI,EAAC,OAAO;QACZc,KAAK,EAAEmB,YAAa;QACpBtB,QAAQ,EAAEI,CAAC,IAAImB,eAAe,CAACnB,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;QAC/CG,WAAW,EAAC,eAAe;QAC3BnB,SAAS,EAAC;MAA6G;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxH,CAAC,eACFlB,OAAA;QACEa,IAAI,EAAC,KAAK;QACVc,KAAK,EAAEqB,eAAgB;QACvBxB,QAAQ,EAAEI,CAAC,IAAIqB,kBAAkB,CAACrB,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;QAClDG,WAAW,EAAC,kBAAkB;QAC9BnB,SAAS,EAAC;MAAwG;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnH,CAAC;IAAA,eACF,CACH;IACD+F,IAAI,EAAE,MAAAA,CAAA,KAAY;MAChBnC,SAAS,CAAC,IAAI,CAAC;MAAEE,QAAQ,CAAC,EAAE,CAAC;MAC7B,IAAI;QACF,MAAMnF,oBAAoB,CAAC;UAAEqH,eAAe,EAAE1C,cAAc;UAAEe,iBAAiB,EAAE7C,gBAAgB;UAAEE,OAAO;UAAE4C,aAAa,EAAE1C,YAAY;UAAE2C,gBAAgB,EAAEzC;QAAgB,CAAC,CAAC;QAC7KyB,cAAc,IAAIA,cAAc,CAAC;UAAEc,iBAAiB,EAAE7C,gBAAgB;UAAEE,OAAO;UAAE4C,aAAa,EAAE1C,YAAY;UAAE2C,gBAAgB,EAAEzC;QAAgB,CAAC,CAAC;MACpJ,CAAC,CAAC,OAAOmE,GAAG,EAAE;QAAEnC,QAAQ,CAACmC,GAAG,CAACR,OAAO,IAAI,iBAAiB,CAAC;QAAE,MAAMQ,GAAG;MAAE,CAAC,SAChE;QAAErC,SAAS,CAAC,KAAK,CAAC;MAAE;IAC9B;EACF,CAAC,EACD;IACEgB,KAAK,EAAE,kBAAkB;IACzBC,OAAO,eACL/F,OAAA;MACEa,IAAI,EAAC,MAAM;MACXc,KAAK,EAAEoC,SAAU;MACjBvC,QAAQ,EAAEI,CAAC,IAAIoC,YAAY,CAACpC,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;MAC5CG,WAAW,EAAC,YAAY;MACxBnB,SAAS,EAAC;IAAwG;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnH,CACF;IACD+F,IAAI,EAAE,MAAAA,CAAA,KAAY;MAChBnC,SAAS,CAAC,IAAI,CAAC;MAAEE,QAAQ,CAAC,EAAE,CAAC;MAC7B,IAAI;QACF,MAAMnF,oBAAoB,CAAC;UAAEqH,eAAe,EAAE1C,cAAc;UAAEkB,UAAU,EAAE3B;QAAU,CAAC,CAAC;QACtFU,cAAc,IAAIA,cAAc,CAAC;UAAEiB,UAAU,EAAE3B;QAAU,CAAC,CAAC;MAC7D,CAAC,CAAC,OAAOoD,GAAG,EAAE;QAAEnC,QAAQ,CAACmC,GAAG,CAACR,OAAO,IAAI,iBAAiB,CAAC;QAAE,MAAMQ,GAAG;MAAE,CAAC,SAChE;QAAErC,SAAS,CAAC,KAAK,CAAC;MAAE;IAC9B;EACF,CAAC,EACD;IACEgB,KAAK,EAAE,uBAAuB;IAC9BC,OAAO,eACL/F,OAAA,CAAAE,SAAA;MAAAU,QAAA,gBACEZ,OAAA;QACEa,IAAI,EAAC,MAAM;QACXc,KAAK,EAAE4B,YAAa;QACpB/B,QAAQ,EAAEI,CAAC,IAAI4B,eAAe,CAAC5B,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;QAC/CG,WAAW,EAAC,eAAe;QAC3BnB,SAAS,EAAC;MAA6G;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxH,CAAC,eACFlB,OAAA;QACEa,IAAI,EAAC,MAAM;QACXc,KAAK,EAAE8B,iBAAkB;QACzBjC,QAAQ,EAAEI,CAAC,IAAI8B,oBAAoB,CAAC9B,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE;QACpDhB,SAAS,EAAC;MAAwG;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnH,CAAC;IAAA,eACF,CACH;IACD+F,IAAI,EAAE,MAAAA,CAAA,KAAY;MAChBnC,SAAS,CAAC,IAAI,CAAC;MAAEE,QAAQ,CAAC,EAAE,CAAC;MAC7B,IAAI;QACF,MAAMnF,oBAAoB,CAAC;UAAEqH,eAAe,EAAE1C,cAAc;UAAEmB,aAAa,EAAEpC,YAAY;UAAEqC,mBAAmB,EAAEnC;QAAkB,CAAC,CAAC;QACpIgB,cAAc,IAAIA,cAAc,CAAC;UAAEkB,aAAa,EAAEpC,YAAY;UAAEqC,mBAAmB,EAAEnC;QAAkB,CAAC,CAAC;MAC3G,CAAC,CAAC,OAAO0D,GAAG,EAAE;QAAEnC,QAAQ,CAACmC,GAAG,CAACR,OAAO,IAAI,iBAAiB,CAAC;QAAE,MAAMQ,GAAG;MAAE,CAAC,SAChE;QAAErC,SAAS,CAAC,KAAK,CAAC;MAAE;IAC9B;EACF,CAAC,CACF;EAED,IAAI,CAACT,IAAI,EAAE,OAAO,IAAI;EACtB,oBACErE,OAAA;IAAKW,SAAS,EAAC,0EAA0E;IAAAC,QAAA,eACvFZ,OAAA;MAAKW,SAAS,EAAC,4EAA4E;MAAAC,QAAA,gBACzFZ,OAAA;QACEa,IAAI,EAAC,QAAQ;QACbC,OAAO,EAAEwD,OAAQ;QACjB3D,SAAS,EAAC,mEAAmE;QAC7E,cAAW,OAAO;QAAAC,QAAA,EACnB;MAED;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTlB,OAAA;QAAKW,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnBZ,OAAA;UAAKW,SAAS,EAAC,4BAA4B;UAAAC,QAAA,GAAC,OAAK,EAAC+D,IAAI,GAAG,CAAC,EAAC,MAAI,EAACkB,KAAK,CAACuB,MAAM;QAAA;UAAArG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACnFlB,OAAA;UAAKW,SAAS,EAAC,sCAAsC;UAAAC,QAAA,EAAEiF,KAAK,CAAClB,IAAI,CAAC,CAACmB;QAAK;UAAA/E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/ElB,OAAA;UAAKW,SAAS,EAAC,qCAAqC;UAAAC,QAAA,eAClDZ,OAAA;YAAKW,SAAS,EAAC,0DAA0D;YAAC0G,KAAK,EAAE;cAAEC,KAAK,EAAE,GAAI,CAAC3C,IAAI,GAAG,CAAC,IAAIkB,KAAK,CAACuB,MAAM,GAAI,GAAG;YAAI;UAAE;YAAArG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNlB,OAAA;QAAMW,SAAS,EAAC,sCAAsC;QAACQ,QAAQ,EAAE,MAAMS,CAAC,IAAI;UAAEA,CAAC,CAAC2F,cAAc,CAAC,CAAC;UAAE,MAAM1B,KAAK,CAAClB,IAAI,CAAC,CAACsC,IAAI,CAAC,CAAC;UAAE,IAAItC,IAAI,GAAGkB,KAAK,CAACuB,MAAM,GAAG,CAAC,EAAExC,OAAO,CAAC4C,CAAC,IAAIA,CAAC,GAAG,CAAC,CAAC,CAAC,KAAMlD,OAAO,CAAC,CAAC;QAAE,CAAE;QAAA1D,QAAA,gBAC9LZ,OAAA;UAAAY,QAAA,EAAMiF,KAAK,CAAClB,IAAI,CAAC,CAACoB;QAAO;UAAAhF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EAC/B6D,KAAK,iBAAI/E,OAAA;UAAKW,SAAS,EAAC,2BAA2B;UAAAC,QAAA,EAAEmE;QAAK;UAAAhE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAClElB,OAAA;UAAKW,SAAS,EAAC,2BAA2B;UAAAC,QAAA,gBACxCZ,OAAA;YACEa,IAAI,EAAC,QAAQ;YACbC,OAAO,EAAEA,CAAA,KAAM8D,OAAO,CAAC4C,CAAC,IAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEF,CAAC,GAAG,CAAC,CAAC,CAAE;YAChD7G,SAAS,EAAC,+DAA+D;YACzEgH,QAAQ,EAAEhD,IAAI,KAAK,CAAC,IAAIE,MAAO;YAAAjE,QAAA,EAChC;UAED;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTlB,OAAA;YACEa,IAAI,EAAC,QAAQ;YACbF,SAAS,EAAC,4DAA4D;YACtEgH,QAAQ,EAAE9C,MAAO;YAAAjE,QAAA,EAEhB+D,IAAI,KAAKkB,KAAK,CAACuB,MAAM,GAAG,CAAC,GAAG,QAAQ,GAAG;UAAM;YAAArG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AAAAwD,EAAA,CAvPMN,mBAAmB;AAAAwD,GAAA,GAAnBxD,mBAAmB;AAwPzB,eAAeyD,YAAYA,CAACrD,cAAc,EAAEnE,cAAc,EAAE8B,gBAAgB,EAAEE,oBAAoB,EAAEM,mBAAmB,EAAEE,UAAU,EAAEE,eAAe,EAAEiB,YAAY,EAAER,eAAe,EAAEE,oBAAoB,EAAEyB,UAAU,EAAElC,kBAAkB,EAAE6E,YAAY,EAAE;EACvP,IAAI,CAACtD,cAAc,EAAE;EACrB,MAAMoC,IAAI,GAAG,MAAMhH,iBAAiB,CAAC4E,cAAc,CAAC;EACpD,IAAIoC,IAAI,EAAE;IACRvG,cAAc,CAACuG,IAAI,CAAC3B,IAAI,IAAI,EAAE,CAAC;IAC/B9C,gBAAgB,CAACyE,IAAI,CAACvB,cAAc,IAAI,EAAE,CAAC;IAC3ChD,oBAAoB,CAACuE,IAAI,CAACtB,kBAAkB,IAAI,EAAE,CAAC;IACnD3C,mBAAmB,CAACiE,IAAI,CAACrB,iBAAiB,IAAI,EAAE,CAAC;IACjD1C,UAAU,CAAC+D,IAAI,CAAChE,OAAO,IAAI,EAAE,CAAC;IAC9BG,eAAe,CAAC6D,IAAI,CAACpB,aAAa,IAAI,EAAE,CAAC;IACzCxB,YAAY,CAAC4C,IAAI,CAAClB,UAAU,IAAI,EAAE,CAAC;IACnClC,eAAe,CAACoD,IAAI,CAACjB,aAAa,IAAI,EAAE,CAAC;IACzCjC,oBAAoB,CAACkD,IAAI,CAAChB,mBAAmB,IAAI,EAAE,CAAC;IACpDT,UAAU,CAACyB,IAAI,CAACxB,QAAQ,IAAI,EAAE,CAAC;IAC/BnC,kBAAkB,CAAC2D,IAAI,CAACnB,gBAAgB,IAAI,EAAE,CAAC;IAC/CqC,YAAY,CAAEC,IAAI,IAAKA,IAAI,CAACC,GAAG,CAAC,CAACC,IAAI,EAAEC,GAAG,KAAK;MAC7C,QAAQA,GAAG;QACT,KAAK,CAAC;UAAE,OAAO;YAAE,GAAGD,IAAI;YAAEE,SAAS,EAAE,CAAC,EAAEvB,IAAI,CAAC3B,IAAI,IAAI2B,IAAI,CAACxB,QAAQ;UAAE,CAAC;QACrE,KAAK,CAAC;UAAE,OAAO;YAAE,GAAG6C,IAAI;YAAEE,SAAS,EAAE,CAAC,EAAEvB,IAAI,CAACvB,cAAc,IAAIuB,IAAI,CAACtB,kBAAkB;UAAE,CAAC;QACzF,KAAK,CAAC;UAAE,OAAO;YAAE,GAAG2C,IAAI;YAAEE,SAAS,EAAE,CAAC,EAAEvB,IAAI,CAACrB,iBAAiB,IAAIqB,IAAI,CAAChE,OAAO,IAAIgE,IAAI,CAACpB,aAAa;UAAE,CAAC;QACvG,KAAK,CAAC;UAAE,OAAO;YAAE,GAAGyC,IAAI;YAAEE,SAAS,EAAE,CAAC,EAAEvB,IAAI,CAACjB,aAAa,IAAIiB,IAAI,CAAChB,mBAAmB;UAAE,CAAC;QACzF,KAAK,CAAC;UAAE,OAAO;YAAE,GAAGqC,IAAI;YAAEE,SAAS,EAAE,CAAC,CAACvB,IAAI,CAAClB;UAAW,CAAC;QACxD;UAAS,OAAOuC,IAAI;MACtB;IACF,CAAC,CAAC,CAAC;EACL;AACF;AAEA,MAAMG,mBAAmB,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAChC,MAAM;IAAEC;EAAoB,CAAC,GAAG3I,OAAO,CAAC,CAAC;EACzC,MAAM,CAAC4I,gBAAgB,EAAE7H,mBAAmB,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACsJ,sBAAsB,EAAEjG,yBAAyB,CAAC,GAAGrD,QAAQ,CAAC,KAAK,CAAC;EAC3E,MAAM,CAACuJ,eAAe,EAAEtF,kBAAkB,CAAC,GAAGjE,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACwJ,aAAa,EAAE9E,gBAAgB,CAAC,GAAG1E,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACyJ,YAAY,EAAEzE,eAAe,CAAC,GAAGhF,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC0J,WAAW,EAAEC,cAAc,CAAC,GAAG3J,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACkB,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACgD,aAAa,EAAEC,gBAAgB,CAAC,GAAGjD,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACkD,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGnD,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAACwD,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGzD,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAAC0D,OAAO,EAAEC,UAAU,CAAC,GAAG3D,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC4D,YAAY,EAAEC,eAAe,CAAC,GAAG7D,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC8D,eAAe,EAAEC,kBAAkB,CAAC,GAAG/D,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAAC6E,SAAS,EAAEC,YAAY,CAAC,GAAG9E,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACqE,YAAY,EAAEC,eAAe,CAAC,GAAGtE,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACuE,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGxE,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAACoB,OAAO,EAAE6E,UAAU,CAAC,GAAGjG,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMqB,YAAY,GAAGnB,MAAM,CAAC,CAAC;EAE7B,MAAM,CAAC0J,SAAS,EAAEhB,YAAY,CAAC,GAAG5I,QAAQ,CAAC,CACzC;IAAEyF,IAAI,EAAE,qBAAqB;IAAEoE,WAAW,EAAE,mDAAmD;IAAEC,SAAS,EAAE,IAAI;IAAEC,UAAU,EAAE,MAAM;IAAEd,SAAS,EAAE,KAAK;IAAEe,KAAK,EAAE;EAAc,CAAC,EAC9K;IAAEvE,IAAI,EAAE,qCAAqC;IAAEoE,WAAW,EAAE,8DAA8D;IAAEZ,SAAS,EAAE,KAAK;IAAEe,KAAK,EAAE;EAAgB,CAAC,EACtK;IAAEvE,IAAI,EAAE,kCAAkC;IAAEoE,WAAW,EAAE,wDAAwD;IAAEZ,SAAS,EAAE,KAAK;IAAEe,KAAK,EAAE;EAAS,CAAC,EACtJ;IAAEvE,IAAI,EAAE,yBAAyB;IAAEoE,WAAW,EAAE,kEAAkE;IAAEC,SAAS,EAAE,IAAI;IAAEC,UAAU,EAAE,UAAU;IAAEd,SAAS,EAAE;EAAM,CAAC,EAC/K;IAAExD,IAAI,EAAE,0BAA0B;IAAEoE,WAAW,EAAE,gEAAgE;IAAEI,OAAO,EAAE,IAAI;IAAEC,QAAQ,EAAE,gBAAgB;IAAEC,MAAM,EAAE,YAAY;IAAElB,SAAS,EAAE;EAAM,CAAC,EACtM;IAAExD,IAAI,EAAE,oBAAoB;IAAEoE,WAAW,EAAE,0DAA0D;IAAEC,SAAS,EAAE,IAAI;IAAEC,UAAU,EAAE,UAAU;IAAEd,SAAS,EAAE;EAAM,CAAC,EAClK;IAAExD,IAAI,EAAE,eAAe;IAAEoE,WAAW,EAAE,4EAA4E;IAAEC,SAAS,EAAE,IAAI;IAAEC,UAAU,EAAE,UAAU;IAAEd,SAAS,EAAE;EAAM,CAAC,EAC/K;IAAExD,IAAI,EAAE,MAAM;IAAEoE,WAAW,EAAE,gEAAgE;IAAEC,SAAS,EAAE,IAAI;IAAEC,UAAU,EAAE,UAAU;IAAEd,SAAS,EAAE;EAAM,CAAC,EAC1J;IAAExD,IAAI,EAAE,uBAAuB;IAAEoE,WAAW,EAAE,sDAAsD;IAAEZ,SAAS,EAAE,KAAK;IAAEe,KAAK,EAAE;EAAO,CAAC,EACvI;IAAEvE,IAAI,EAAE,kBAAkB;IAAEoE,WAAW,EAAE,wDAAwD;IAAEZ,SAAS,EAAE,KAAK;IAAEe,KAAK,EAAE;EAAM,CAAC,EACnI;IAAEvE,IAAI,EAAE,WAAW;IAAEoE,WAAW,EAAE,0EAA0E;IAAEC,SAAS,EAAE,IAAI;IAAEC,UAAU,EAAE,QAAQ;IAAEd,SAAS,EAAE;EAAM,CAAC,EACvK;IAAExD,IAAI,EAAE,iBAAiB;IAAEoE,WAAW,EAAE,gEAAgE;IAAEC,SAAS,EAAE,IAAI;IAAEC,UAAU,EAAE,UAAU;IAAEd,SAAS,EAAE;EAAM,CAAC,EACrK;IAAExD,IAAI,EAAE,WAAW;IAAEoE,WAAW,EAAE,6CAA6C;IAAEC,SAAS,EAAE,IAAI;IAAEC,UAAU,EAAE,YAAY;IAAEd,SAAS,EAAE;EAAM,CAAC,EAC9I;IAAExD,IAAI,EAAE,0BAA0B;IAAEoE,WAAW,EAAE,+CAA+C;IAAEI,OAAO,EAAE,IAAI;IAAEC,QAAQ,EAAE,mBAAmB;IAAEC,MAAM,EAAE,YAAY;IAAElB,SAAS,EAAE;EAAM,CAAC,EACxL;IAAExD,IAAI,EAAE,sBAAsB;IAAEoE,WAAW,EAAE,0EAA0E;IAAEI,OAAO,EAAE,IAAI;IAAEC,QAAQ,EAAE,iBAAiB;IAAEC,MAAM,EAAE,GAAG;IAAElB,SAAS,EAAE;EAAM,CAAC,CACrM,CAAC;;EAEF;EACA,MAAMmB,cAAc,GAAGR,SAAS,CAACS,MAAM,CAACtB,IAAI,IAAIA,IAAI,CAACE,SAAS,CAAC,CAACf,MAAM;EACtE,MAAMoC,UAAU,GAAGV,SAAS,CAAC1B,MAAM;EACnC,MAAMqC,kBAAkB,GAAGhC,IAAI,CAACiC,KAAK,CAAEJ,cAAc,GAAGE,UAAU,GAAI,GAAG,CAAC;EAE1ErK,SAAS,CAAC,MAAM;IACd0I,YAAY,CACVS,mBAAmB,aAAnBA,mBAAmB,uBAAnBA,mBAAmB,CAAEpB,eAAe,EACpC7G,cAAc,EACd8B,gBAAgB,EAChBE,oBAAoB,EACpBM,mBAAmB,EACnBE,UAAU,EACVE,eAAe,EACfiB,YAAY,EACZR,eAAe,EACfE,oBAAoB,EACpByB,UAAU,EACVlC,kBAAkB,EAClB6E,YACF,CAAC;EACH,CAAC,EAAE,CAACQ,mBAAmB,CAAC,CAAC;EAEzB,MAAMqB,oBAAoB,GAAGtK,WAAW,CAAEuK,KAAK,IAAK;IAClD9B,YAAY,CAAEC,IAAI,IAAK;MACrB,MAAM8B,YAAY,GAAG,CAAC,GAAG9B,IAAI,CAAC;MAC9B8B,YAAY,CAACD,KAAK,CAAC,CAACzB,SAAS,GAAG,CAAC0B,YAAY,CAACD,KAAK,CAAC,CAACzB,SAAS;MAC9D,OAAO0B,YAAY;IACrB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,eAAe,GAAGzK,WAAW,CAAEuK,KAAK,IAAK;IAC7C,MAAM3B,IAAI,GAAGa,SAAS,CAACc,KAAK,CAAC;IAC7B,IAAI3B,IAAI,CAACiB,KAAK,EAAE;MACd,QAAQjB,IAAI,CAACiB,KAAK;QAChB,KAAK,aAAa;UAChBxI,mBAAmB,CAAC,IAAI,CAAC;UACzB;QACF,KAAK,eAAe;UAClB6B,yBAAyB,CAAC,IAAI,CAAC;UAC/B;QACF,KAAK,QAAQ;UACXY,kBAAkB,CAAC,IAAI,CAAC;UACxB;QACF,KAAK,MAAM;UACTS,gBAAgB,CAAC,IAAI,CAAC;UACtB;QACF,KAAK,KAAK;UACRM,eAAe,CAAC,IAAI,CAAC;UACrB;QACF;UACE;MACJ;IACF;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMzD,uBAAuB,GAAG,MAAOmB,CAAC,IAAK;IAC3CA,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAE2F,cAAc,CAAC,CAAC;IACnB,IAAI,CAACnH,WAAW,CAAC2J,IAAI,CAAC,CAAC,IAAI,EAACzB,mBAAmB,aAAnBA,mBAAmB,eAAnBA,mBAAmB,CAAEpB,eAAe,GAAE;IAClE,MAAMrH,oBAAoB,CAAC;MAAEqH,eAAe,EAAEoB,mBAAmB,CAACpB,eAAe;MAAEjC,IAAI,EAAE7E;IAAY,CAAC,CAAC;IACvG0H,YAAY,CAAEC,IAAI,IAAK;MACrB,MAAM8B,YAAY,GAAG,CAAC,GAAG9B,IAAI,CAAC;MAC9B8B,YAAY,CAAC,CAAC,CAAC,CAAC1B,SAAS,GAAG,CAAC,EAAE/H,WAAW,IAAIE,OAAO,CAAC;MACtD,OAAOuJ,YAAY;IACrB,CAAC,CAAC;IACFnJ,mBAAmB,CAAC,KAAK,CAAC;EAC5B,CAAC;EAED,MAAM4B,yBAAyB,GAAG,MAAOV,CAAC,IAAK;IAC7CA,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAE2F,cAAc,CAAC,CAAC;IACnB,IAAI,CAACrF,aAAa,CAAC6H,IAAI,CAAC,CAAC,IAAI,CAAC3H,iBAAiB,IAAI,EAACkG,mBAAmB,aAAnBA,mBAAmB,eAAnBA,mBAAmB,CAAEpB,eAAe,GAAE;IAC1F,MAAMrH,oBAAoB,CAAC;MAAEqH,eAAe,EAAEoB,mBAAmB,CAACpB,eAAe;MAAE7B,cAAc,EAAEnD,aAAa;MAAEoD,kBAAkB,EAAElD;IAAkB,CAAC,CAAC;IAC1J0F,YAAY,CAAEC,IAAI,IAAK;MACrB,MAAM8B,YAAY,GAAG,CAAC,GAAG9B,IAAI,CAAC;MAC9B8B,YAAY,CAAC,CAAC,CAAC,CAAC1B,SAAS,GAAG,IAAI;MAChC,OAAO0B,YAAY;IACrB,CAAC,CAAC;IACFtH,yBAAyB,CAAC,KAAK,CAAC;EAClC,CAAC;EAED,MAAMW,kBAAkB,GAAG,MAAOtB,CAAC,IAAK;IACtCA,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAE2F,cAAc,CAAC,CAAC;IACnB,IAAI,CAAC7E,gBAAgB,CAACqH,IAAI,CAAC,CAAC,IAAI,CAACnH,OAAO,CAACmH,IAAI,CAAC,CAAC,IAAI,CAACjH,YAAY,CAACiH,IAAI,CAAC,CAAC,IAAI,EAACzB,mBAAmB,aAAnBA,mBAAmB,eAAnBA,mBAAmB,CAAEpB,eAAe,GAAE;IAClH,MAAMrH,oBAAoB,CAAC;MAAEqH,eAAe,EAAEoB,mBAAmB,CAACpB,eAAe;MAAE3B,iBAAiB,EAAE7C,gBAAgB;MAAEE,OAAO;MAAE4C,aAAa,EAAE1C,YAAY;MAAE2C,gBAAgB,EAAEzC;IAAgB,CAAC,CAAC;IAClM8E,YAAY,CAAEC,IAAI,IAAK;MACrB,MAAM8B,YAAY,GAAG,CAAC,GAAG9B,IAAI,CAAC;MAC9B8B,YAAY,CAAC,CAAC,CAAC,CAAC1B,SAAS,GAAG,IAAI;MAChC,OAAO0B,YAAY;IACrB,CAAC,CAAC;IACF1G,kBAAkB,CAAC,KAAK,CAAC;EAC3B,CAAC;EAED,MAAMQ,gBAAgB,GAAG,MAAO/B,CAAC,IAAK;IACpCA,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAE2F,cAAc,CAAC,CAAC;IACnB,IAAI,CAAChE,YAAY,CAACwG,IAAI,CAAC,CAAC,IAAI,CAACtG,iBAAiB,IAAI,EAAC6E,mBAAmB,aAAnBA,mBAAmB,eAAnBA,mBAAmB,CAAEpB,eAAe,GAAE;IACzF,MAAMrH,oBAAoB,CAAC;MAAEqH,eAAe,EAAEoB,mBAAmB,CAACpB,eAAe;MAAEvB,aAAa,EAAEpC,YAAY;MAAEqC,mBAAmB,EAAEnC;IAAkB,CAAC,CAAC;IACzJqE,YAAY,CAAEC,IAAI,IAAK;MACrB,MAAM8B,YAAY,GAAG,CAAC,GAAG9B,IAAI,CAAC;MAC9B8B,YAAY,CAAC,CAAC,CAAC,CAAC1B,SAAS,GAAG,IAAI;MAChC,OAAO0B,YAAY;IACrB,CAAC,CAAC;IACFjG,gBAAgB,CAAC,KAAK,CAAC;EACzB,CAAC;EAED,MAAMK,eAAe,GAAG,MAAOrC,CAAC,IAAK;IACnCA,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAE2F,cAAc,CAAC,CAAC;IACnB,IAAI,CAACxD,SAAS,CAACgG,IAAI,CAAC,CAAC,IAAI,EAACzB,mBAAmB,aAAnBA,mBAAmB,eAAnBA,mBAAmB,CAAEpB,eAAe,GAAE;IAChE,MAAMrH,oBAAoB,CAAC;MAAEqH,eAAe,EAAEoB,mBAAmB,CAACpB,eAAe;MAAExB,UAAU,EAAE3B;IAAU,CAAC,CAAC;IAC3G+D,YAAY,CAAEC,IAAI,IAAK;MACrB,MAAM8B,YAAY,GAAG,CAAC,GAAG9B,IAAI,CAAC;MAC9B8B,YAAY,CAAC,CAAC,CAAC,CAAC1B,SAAS,GAAG,IAAI;MAChC,OAAO0B,YAAY;IACrB,CAAC,CAAC;IACF3F,eAAe,CAAC,KAAK,CAAC;EACxB,CAAC;EAED,MAAM1D,gBAAgB,GAAG,MAAOoB,CAAC,IAAK;IACpC,MAAMoE,IAAI,GAAGpE,CAAC,CAACC,MAAM,CAACoE,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAI,CAACD,IAAI,IAAI,EAACsC,mBAAmB,aAAnBA,mBAAmB,eAAnBA,mBAAmB,CAAEpB,eAAe,GAAE;IACpD,MAAMhB,OAAO,GAAGF,IAAI,CAACf,IAAI,CAACkB,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC;IAC1C,MAAMC,QAAQ,GAAG,GAAGiC,mBAAmB,CAACpB,eAAe,SAAShB,OAAO,EAAE;IACzE,MAAM;MAAEU,IAAI,EAAEoD,UAAU;MAAEjF,KAAK,EAAEuB;IAAY,CAAC,GAAG,MAAMxG,QAAQ,CAACyG,OAAO,CAACC,IAAI,CAAC,eAAe,CAAC,CAACC,MAAM,CAACJ,QAAQ,EAAEL,IAAI,EAAE;MAAEU,MAAM,EAAE;IAAK,CAAC,CAAC;IACtI,IAAIJ,WAAW,EAAE;MACf2D,KAAK,CAAC,wBAAwB,GAAG3D,WAAW,CAACK,OAAO,CAAC;MACrD;IACF;IACA,MAAM;MAAEC,IAAI,EAAEC,aAAa;MAAE9B,KAAK,EAAE+B;IAAS,CAAC,GAAGhH,QAAQ,CAACyG,OAAO,CAACC,IAAI,CAAC,eAAe,CAAC,CAACO,YAAY,CAACV,QAAQ,CAAC;IAC9G,IAAIS,QAAQ,IAAI,EAACD,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAEG,SAAS,GAAE;MACzCiD,KAAK,CAAC,wBAAwB,CAAC;MAC/B;IACF;IACA,MAAMjD,SAAS,GAAGH,aAAa,CAACG,SAAS;IACzC7B,UAAU,CAAC6B,SAAS,CAAC;IACrB,MAAMnH,oBAAoB,CAAC;MAAEqH,eAAe,EAAEoB,mBAAmB,CAACpB,eAAe;MAAE9B,QAAQ,EAAE4B;IAAU,CAAC,CAAC;EAC3G,CAAC;EAED,MAAMkD,QAAQ,GAAGA,CAAA,kBACflK,OAAA;IAAKW,SAAS,EAAC,kDAAkD;IAAAC,QAAA,gBAC/DZ,OAAA;MAAIW,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAS;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACrElB,OAAA;MAAGW,SAAS,EAAC,uBAAuB;MAAAC,QAAA,EAAC;IAErC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CACN;EAED,oBACElB,OAAA;IAAKW,SAAS,EAAC,mDAAmD;IAAAC,QAAA,gBAChEZ,OAAA;MAAKW,SAAS,EAAC,oCAAoC;MAAAC,QAAA,gBACjDZ,OAAA;QAAIW,SAAS,EAAC,iCAAiC;QAAAC,QAAA,EAAC;MAAoB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzElB,OAAA;QAAGW,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAE1C;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAGNlB,OAAA;MAAKW,SAAS,EAAC,oCAAoC;MAAAC,QAAA,gBACjDZ,OAAA;QAAKW,SAAS,EAAC,wCAAwC;QAAAC,QAAA,gBACrDZ,OAAA;UAAIW,SAAS,EAAC,mCAAmC;UAAAC,QAAA,EAAC;QAAc;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrElB,OAAA;UAAMW,SAAS,EAAC,mCAAmC;UAAAC,QAAA,GAAE6I,kBAAkB,EAAC,YAAU;QAAA;UAAA1I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtF,CAAC,eAGNlB,OAAA;QAAKW,SAAS,EAAC,qCAAqC;QAAAC,QAAA,eAClDZ,OAAA;UACEW,SAAS,EAAC,2DAA2D;UACrE0G,KAAK,EAAE;YAAEC,KAAK,EAAE,GAAGmC,kBAAkB;UAAI;QAAE;UAAA1I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNlB,OAAA;MAAKW,SAAS,EAAC,KAAK;MAAAC,QAAA,eAClBZ,OAAA;QAAKW,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxBZ,OAAA;UAAKW,SAAS,EAAC,kDAAkD;UAAAC,QAAA,gBAC/DZ,OAAA;YAAIW,SAAS,EAAC,wCAAwC;YAAAC,QAAA,EAAC;UAAW;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvElB,OAAA;YAAGW,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAE1C;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJlB,OAAA;YACEc,OAAO,EAAEA,CAAA,KAAM+H,cAAc,CAAC,IAAI,CAAE;YACpClI,SAAS,EAAC,qDAAqD;YAAAC,QAAA,EAChE;UAED;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENlB,OAAA;UAAKW,SAAS,EAAC,WAAW;UAAAC,QAAA,EACvBkI,SAAS,CAACd,GAAG,CAAC,CAACC,IAAI,EAAE2B,KAAK,kBACzB5J,OAAA;YAEEW,SAAS,EAAE,4FACTsH,IAAI,CAACE,SAAS,GAAG,8BAA8B,GAAG,8CAA8C,EAC/F;YACHrH,OAAO,EAAEA,CAAA,KAAMgJ,eAAe,CAACF,KAAK,CAAE;YAAAhJ,QAAA,gBAEtCZ,OAAA;cAAKW,SAAS,EAAC,6BAA6B;cAAAC,QAAA,gBAC1CZ,OAAA;gBACEc,OAAO,EAAGc,CAAC,IAAK;kBACdA,CAAC,CAACuI,eAAe,CAAC,CAAC;kBACnBR,oBAAoB,CAACC,KAAK,CAAC;gBAC7B,CAAE;gBACFjJ,SAAS,EAAE,iBACTsH,IAAI,CAACE,SAAS,GAAG,gBAAgB,GAAG,mCAAmC,EACtE;gBAAAvH,QAAA,eAEHZ,OAAA,CAACV,eAAe;kBAACqB,SAAS,EAAC;gBAAS;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjC,CAAC,eACTlB,OAAA;gBAAAY,QAAA,gBACEZ,OAAA;kBAAIW,SAAS,EAAE,uBAAuBsH,IAAI,CAACE,SAAS,GAAG,gBAAgB,GAAG,eAAe,EAAG;kBAAAvH,QAAA,EACzFqH,IAAI,CAACtD;gBAAI;kBAAA5D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACR,CAAC,eACLlB,OAAA;kBAAGW,SAAS,EAAE,WAAWsH,IAAI,CAACE,SAAS,GAAG,gBAAgB,GAAG,eAAe,EAAG;kBAAAvH,QAAA,EAC5EqH,IAAI,CAACc;gBAAW;kBAAAhI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChB,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNlB,OAAA;cAAKW,SAAS,EAAC,6BAA6B;cAAAC,QAAA,GACzCqH,IAAI,CAACe,SAAS,iBACbhJ,OAAA;gBACEc,OAAO,EAAGc,CAAC,IAAKA,CAAC,CAACuI,eAAe,CAAC,CAAE;gBACpCxJ,SAAS,EAAC,uEAAuE;gBAAAC,QAAA,gBAEjFZ,OAAA,CAACR,mBAAmB;kBAACmB,SAAS,EAAC;gBAAS;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAC3ClB,OAAA;kBAAAY,QAAA,EAAM;gBAAM;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACb,CACT,EACA+G,IAAI,CAACkB,OAAO,iBACXnJ,OAAA;gBACEoK,IAAI,EAAEnC,IAAI,CAACoB,MAAO;gBAClBvI,OAAO,EAAGc,CAAC,IAAKA,CAAC,CAACuI,eAAe,CAAC,CAAE;gBACpCxJ,SAAS,EAAC,uEAAuE;gBAAAC,QAAA,gBAEjFZ,OAAA,CAACT,QAAQ;kBAACoB,SAAS,EAAC;gBAAS;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAChClB,OAAA;kBAAAY,QAAA,EAAOqH,IAAI,CAACmB;gBAAQ;kBAAArI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CACJ,EACA+G,IAAI,CAACiB,KAAK,iBACTlJ,OAAA;gBAAMW,SAAS,EAAC,qDAAqD;gBAAAC,QAAA,EAAC;cAEtE;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CACP;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA,GApDD+G,IAAI,CAACtD,IAAI;YAAA5D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAqDX,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGLqH,gBAAgB,iBAAIvI,OAAA,CAACG,gBAAgB;MACpCC,WAAW,EAAEA,WAAY;MACzBC,cAAc,EAAEA,cAAe;MAC/BC,OAAO,EAAEA,OAAQ;MACjBC,YAAY,EAAEA,YAAa;MAC3BC,gBAAgB,EAAEA,gBAAiB;MACnCC,uBAAuB,EAAEA,uBAAwB;MACjDC,mBAAmB,EAAEA;IAAoB;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CAAC,EACDsH,sBAAsB,iBAAIxI,OAAA,CAACiC,kBAAkB;MAC5CC,aAAa,EAAEA,aAAc;MAC7BC,gBAAgB,EAAEA,gBAAiB;MACnCC,iBAAiB,EAAEA,iBAAkB;MACrCC,oBAAoB,EAAEA,oBAAqB;MAC3CC,yBAAyB,EAAEA,yBAA0B;MACrDC,yBAAyB,EAAEA;IAA0B;MAAAxB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtD,CAAC,EACDuH,eAAe,iBAAIzI,OAAA,CAACyC,WAAW;MAC9BC,gBAAgB,EAAEA,gBAAiB;MACnCC,mBAAmB,EAAEA,mBAAoB;MACzCC,OAAO,EAAEA,OAAQ;MACjBC,UAAU,EAAEA,UAAW;MACvBC,YAAY,EAAEA,YAAa;MAC3BC,eAAe,EAAEA,eAAgB;MACjCC,eAAe,EAAEA,eAAgB;MACjCC,kBAAkB,EAAEA,kBAAmB;MACvCC,kBAAkB,EAAEA,kBAAmB;MACvCC,kBAAkB,EAAEA;IAAmB;MAAApC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CAAC,EACDwH,aAAa,iBAAI1I,OAAA,CAACsD,SAAS;MAC1BC,YAAY,EAAEA,YAAa;MAC3BC,eAAe,EAAEA,eAAgB;MACjCC,iBAAiB,EAAEA,iBAAkB;MACrCC,oBAAoB,EAAEA,oBAAqB;MAC3CC,gBAAgB,EAAEA,gBAAiB;MACnCC,gBAAgB,EAAEA;IAAiB;MAAA7C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC,EACDyH,YAAY,iBAAI3I,OAAA,CAAC8D,QAAQ;MACxBC,SAAS,EAAEA,SAAU;MACrBC,YAAY,EAAEA,YAAa;MAC3BC,eAAe,EAAEA,eAAgB;MACjCC,eAAe,EAAEA;IAAgB;MAAAnD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC,eACFlB,OAAA,CAACoE,mBAAmB;MAClBC,IAAI,EAAEuE,WAAY;MAClBtE,OAAO,EAAEA,CAAA,KAAMuE,cAAc,CAAC,KAAK,CAAE;MACrCtE,WAAW,EAAE;QACXU,IAAI,EAAE7E,WAAW;QACjBgF,QAAQ,EAAE9E,OAAO;QACjB+E,cAAc,EAAEnD,aAAa;QAC7BoD,kBAAkB,EAAElD,iBAAiB;QACrCmD,iBAAiB,EAAE7C,gBAAgB;QACnCE,OAAO;QACP4C,aAAa,EAAE1C,YAAY;QAC3B2C,gBAAgB,EAAEzC,eAAe;QACjC0C,UAAU,EAAE3B,SAAS;QACrB4B,aAAa,EAAEpC,YAAY;QAC3BqC,mBAAmB,EAAEnC;MACvB,CAAE;MACFe,cAAc,EAAE8D,mBAAmB,aAAnBA,mBAAmB,uBAAnBA,mBAAmB,CAAEpB,eAAgB;MACrDzC,cAAc,EAAEA,CAAA,KAAMoD,YAAY,CAChCS,mBAAmB,aAAnBA,mBAAmB,uBAAnBA,mBAAmB,CAAEpB,eAAe,EACpC7G,cAAc,EACd8B,gBAAgB,EAChBE,oBAAoB,EACpBM,mBAAmB,EACnBE,UAAU,EACVE,eAAe,EACfiB,YAAY,EACZR,eAAe,EACfE,oBAAoB,EACpByB,UAAU,EACVlC,kBAAkB,EAClB6E,YACF;IAAE;MAAA/G,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACmH,GAAA,CA9WID,mBAAmB;EAAA,QACSzI,OAAO;AAAA;AAAA0K,GAAA,GADnCjC,mBAAmB;AAgXzB,eAAeA,mBAAmB;AAAC,IAAApG,EAAA,EAAAQ,GAAA,EAAAa,GAAA,EAAAQ,GAAA,EAAAM,GAAA,EAAAyD,GAAA,EAAAyC,GAAA;AAAAC,YAAA,CAAAtI,EAAA;AAAAsI,YAAA,CAAA9H,GAAA;AAAA8H,YAAA,CAAAjH,GAAA;AAAAiH,YAAA,CAAAzG,GAAA;AAAAyG,YAAA,CAAAnG,GAAA;AAAAmG,YAAA,CAAA1C,GAAA;AAAA0C,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}