{"ast":null,"code":"var _jsxFileName = \"/Users/markgiblin/Desktop/layrbase/src/pages/cap-table/components/captable/CapTableContent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport { PencilIcon } from '@heroicons/react/20/solid';\n\n// --- MOCK DATA ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialData = {\n  shareholders: {\n    'sh-1': {\n      id: 'sh-1',\n      name: 'Alice',\n      role: 'Founder'\n    },\n    'sh-2': {\n      id: 'sh-2',\n      name: 'Bob',\n      role: 'Founder'\n    },\n    'sh-3': {\n      id: 'sh-3',\n      name: 'Seed Fund A',\n      role: 'Investor'\n    },\n    'sh-4': {\n      id: 'sh-4',\n      name: 'Carol',\n      role: 'Advisor'\n    },\n    'sh-5': {\n      id: 'sh-5',\n      name: 'Series A Lead',\n      role: 'Investor'\n    }\n  },\n  shareClasses: {\n    'sc-1': {\n      id: 'sc-1',\n      name: 'Common'\n    },\n    'sc-2': {\n      id: 'sc-2',\n      name: 'Seed Preferred'\n    },\n    'sc-3': {\n      id: 'sc-3',\n      name: 'Series A Preferred'\n    }\n  },\n  rounds: [{\n    name: 'Pre-Seed',\n    date: '2022-01-15',\n    preMoney: 500000,\n    investment: 100000,\n    shareClassId: 'sc-1'\n  }, {\n    name: 'Seed',\n    date: '2023-03-20',\n    preMoney: 2000000,\n    investment: 500000,\n    shareClassId: 'sc-2'\n  }, {\n    name: 'Series A',\n    date: '2024-05-10',\n    preMoney: 10000000,\n    investment: 2500000,\n    shareClassId: 'sc-3'\n  }],\n  transactions: [\n  // Pre-Seed\n  {\n    roundIndex: 0,\n    shareholderId: 'sh-1',\n    shares: 4000000,\n    investment: 50000\n  }, {\n    roundIndex: 0,\n    shareholderId: 'sh-2',\n    shares: 4000000,\n    investment: 50000\n  },\n  // Seed\n  {\n    roundIndex: 1,\n    shareholderId: 'sh-3',\n    shares: 2000000,\n    investment: 500000\n  }, {\n    roundIndex: 1,\n    shareholderId: 'sh-4',\n    shares: 50000,\n    investment: 0\n  },\n  // Advisor grant\n  // Series A\n  {\n    roundIndex: 2,\n    shareholderId: 'sh-5',\n    shares: 2500000,\n    investment: 2500000\n  }]\n};\n\n// --- UTILITY & FORMATTING ---\nconst formatCurrency = value => `£${(value / 1000000).toFixed(2)}M`;\nconst formatNumber = value => new Intl.NumberFormat('en-GB').format(value);\nconst formatPercent = value => `${(value * 100).toFixed(2)}%`;\n\n// --- MAIN COMPONENT ---\nconst CapTableContent = () => {\n  _s();\n  const [data, setData] = useState(initialData);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [viewMode, setViewMode] = useState('individual'); // individual | group\n  const [selectedRoundIndex, setSelectedRoundIndex] = useState(data.rounds.length); // length = Current\n\n  const derivedTable = useMemo(() => {\n    var _groupedRows$find$own, _groupedRows$find, _groupedRows$find$own2, _groupedRows$find2;\n    let history = [];\n\n    // Iterate through each round to build history\n    for (let i = 0; i < data.rounds.length; i++) {\n      var _history$holdings, _history;\n      const round = data.rounds[i];\n      const prevHoldings = (_history$holdings = (_history = history[i - 1]) === null || _history === void 0 ? void 0 : _history.holdings) !== null && _history$holdings !== void 0 ? _history$holdings : {};\n      let currentHoldings = {\n        ...prevHoldings\n      }; // Simple object spread instead of immer\n\n      const roundTransactions = data.transactions.filter(t => t.roundIndex === i);\n      for (const t of roundTransactions) {\n        if (!currentHoldings[t.shareholderId]) {\n          currentHoldings[t.shareholderId] = {\n            shares: 0,\n            investment: 0\n          };\n        }\n        currentHoldings[t.shareholderId].shares += t.shares;\n        currentHoldings[t.shareholderId].investment += t.investment;\n      }\n      history.push({\n        name: round.name,\n        date: round.date,\n        preMoney: round.preMoney,\n        investment: round.investment,\n        holdings: currentHoldings,\n        shareClassId: round.shareClassId\n      });\n    }\n\n    // Now, calculate the state for the selected round\n    const isCurrent = selectedRoundIndex === data.rounds.length;\n    const relevantHistory = isCurrent ? history : history.slice(0, selectedRoundIndex + 1);\n    const currentRoundState = relevantHistory[relevantHistory.length - 1];\n    const previousRoundState = relevantHistory[relevantHistory.length - 2];\n    if (!currentRoundState) return {\n      displayRows: [],\n      summary: {}\n    }; // Handle Pre-seed case\n\n    const postMoney = currentRoundState.preMoney + currentRoundState.investment;\n    const totalShares = Object.values(currentRoundState.holdings).reduce((acc, h) => acc + h.shares, 0);\n    const tableRows = Object.entries(currentRoundState.holdings).map(([shId, holding]) => {\n      var _previousRoundState$h, _previousRoundState$h2, _previousRoundState$h3, _data$shareClasses$cu;\n      const shareholder = data.shareholders[shId];\n      const ownership = holding.shares / totalShares;\n      const prevOwnership = previousRoundState ? ((_previousRoundState$h = (_previousRoundState$h2 = previousRoundState.holdings[shId]) === null || _previousRoundState$h2 === void 0 ? void 0 : _previousRoundState$h2.shares) !== null && _previousRoundState$h !== void 0 ? _previousRoundState$h : 0) / Object.values(previousRoundState.holdings).reduce((acc, h) => acc + h.shares, 0) : 0;\n      const dilution = prevOwnership > 0 ? prevOwnership - ownership : 0;\n      const lastTransaction = data.transactions.slice().reverse().find(t => t.shareholderId === shId && t.roundIndex === relevantHistory.length - 1);\n      const sharePrice = (lastTransaction === null || lastTransaction === void 0 ? void 0 : lastTransaction.investment) > 0 ? lastTransaction.investment / lastTransaction.shares : currentRoundState.preMoney / Object.values((_previousRoundState$h3 = previousRoundState === null || previousRoundState === void 0 ? void 0 : previousRoundState.holdings) !== null && _previousRoundState$h3 !== void 0 ? _previousRoundState$h3 : {}).reduce((acc, h) => acc + h.shares, 0) || 0;\n      return {\n        id: shId,\n        name: shareholder.name,\n        role: shareholder.role,\n        shares: holding.shares,\n        ownership,\n        shareClass: (_data$shareClasses$cu = data.shareClasses[currentRoundState.shareClassId]) === null || _data$shareClasses$cu === void 0 ? void 0 : _data$shareClasses$cu.name,\n        investment: holding.investment,\n        sharePrice: sharePrice,\n        dilution\n      };\n    });\n    const groupedRows = Object.values(tableRows.reduce((acc, row) => {\n      const group = row.role === 'Founder' ? 'Founders' : row.role === 'Investor' ? 'Investors' : 'Employees & Advisors';\n      if (!acc[group]) {\n        acc[group] = {\n          name: group,\n          role: '',\n          shares: 0,\n          ownership: 0,\n          investment: 0\n        };\n      }\n      acc[group].shares += row.shares;\n      acc[group].ownership += row.ownership;\n      acc[group].investment += row.investment;\n      return acc;\n    }, {}));\n    const displayRows = viewMode === 'individual' ? tableRows : groupedRows;\n    const summary = {\n      totalShares: totalShares,\n      totalRaised: history.reduce((acc, h) => acc + h.investment, 0),\n      preMoney: currentRoundState.preMoney,\n      postMoney: postMoney,\n      founderOwnership: (_groupedRows$find$own = (_groupedRows$find = groupedRows.find(g => g.name === 'Founders')) === null || _groupedRows$find === void 0 ? void 0 : _groupedRows$find.ownership) !== null && _groupedRows$find$own !== void 0 ? _groupedRows$find$own : 0,\n      investorOwnership: (_groupedRows$find$own2 = (_groupedRows$find2 = groupedRows.find(g => g.name === 'Investors')) === null || _groupedRows$find2 === void 0 ? void 0 : _groupedRows$find2.ownership) !== null && _groupedRows$find$own2 !== void 0 ? _groupedRows$find$own2 : 0\n    };\n    return {\n      displayRows,\n      summary\n    };\n  }, [data, selectedRoundIndex, viewMode]);\n  const handleSharesChange = (shId, newShares) => {\n    // This is a simplified update for demonstration in edit mode.\n    // A real implementation would be much more complex.\n    const newTx = {\n      roundIndex: selectedRoundIndex,\n      shareholderId: shId,\n      shares: parseInt(newShares, 10) || 0,\n      investment: 0\n    };\n    setData(prevData => ({\n      ...prevData,\n      transactions: [...prevData.transactions, newTx]\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap items-center justify-between gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedRoundIndex,\n          onChange: e => setSelectedRoundIndex(parseInt(e.target.value, 10)),\n          className: \"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 bg-purple-600 text-white font-medium px-4 py-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: data.rounds.length,\n            children: \"Current\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), data.rounds.map((r, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: i,\n            children: r.name\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 40\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-200 p-0.5 rounded-lg flex text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setViewMode('individual'),\n            className: `px-3 py-1 rounded-md ${viewMode === 'individual' ? 'bg-white shadow-sm' : ''}`,\n            children: \"Individuals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setViewMode('group'),\n            className: `px-3 py-1 rounded-md ${viewMode === 'group' ? 'bg-white shadow-sm' : ''}`,\n            children: \"Groups\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsEditMode(!isEditMode),\n        className: `flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md border ${isEditMode ? 'bg-primary-600 text-white border-transparent' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'}`,\n        children: [/*#__PURE__*/_jsxDEV(PencilIcon, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: isEditMode ? 'Live Mode' : 'Edit Mode'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 lg:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Pre-money Valuation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 57\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-bold\",\n          children: formatCurrency(derivedTable.summary.preMoney)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 117\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Post-money Valuation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 57\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-bold\",\n          children: formatCurrency(derivedTable.summary.postMoney)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 118\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Founders Ownership\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 57\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-bold\",\n          children: formatPercent(derivedTable.summary.founderOwnership)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 116\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Investors Ownership\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 57\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-bold\",\n          children: formatPercent(derivedTable.summary.investorOwnership)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 117\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow min-w-full inline-block\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Shareholder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Shares\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"% Ownership\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), viewMode === 'individual' && /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Share Class\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Investment (\\xA3)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), viewMode === 'individual' && /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Share Price (\\xA3)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 47\n              }, this), viewMode === 'individual' && /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Dilution %\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: derivedTable.displayRows.map(row => {\n              var _row$sharePrice;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-2 whitespace-nowrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-900\",\n                    children: row.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 63\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500\",\n                    children: row.role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 122\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-2 whitespace-nowrap text-sm text-gray-700\",\n                  children: isEditMode && viewMode === 'individual' ? /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    defaultValue: row.shares,\n                    onBlur: e => handleSharesChange(row.id, e.target.value),\n                    className: \"w-24 p-1 rounded border-gray-300\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 23\n                  }, this) : formatNumber(row.shares)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-2 whitespace-nowrap text-sm text-gray-700\",\n                  children: formatPercent(row.ownership)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this), viewMode === 'individual' && /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-2 whitespace-nowrap text-sm text-gray-700\",\n                  children: row.shareClass\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-2 whitespace-nowrap text-sm text-gray-700\",\n                  children: formatNumber(row.investment)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 19\n                }, this), viewMode === 'individual' && /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-2 whitespace-nowrap text-sm text-gray-700\",\n                  children: (_row$sharePrice = row.sharePrice) === null || _row$sharePrice === void 0 ? void 0 : _row$sharePrice.toFixed(4)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 49\n                }, this), viewMode === 'individual' && /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-2 whitespace-nowrap text-sm text-red-500\",\n                  children: row.dilution > 0 ? formatPercent(row.dilution) : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 49\n                }, this)]\n              }, row.id || row.name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-2 text-left text-sm font-bold text-gray-700\",\n                children: \"Totals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-2 text-left text-sm font-bold text-gray-700\",\n                children: formatNumber(derivedTable.summary.totalShares)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-2 text-left text-sm font-bold text-gray-700\",\n                children: \"100.00%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), viewMode === 'individual' && /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 48\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-2 text-left text-sm font-bold text-gray-700\",\n                children: formatNumber(derivedTable.summary.totalRaised)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), viewMode === 'individual' && /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n};\n_s(CapTableContent, \"EO9AS6UQU8DgZubbYHjvXbKhKtc=\");\n_c = CapTableContent;\nexport default CapTableContent;\nvar _c;\n$RefreshReg$(_c, \"CapTableContent\");","map":{"version":3,"names":["React","useState","useMemo","PencilIcon","jsxDEV","_jsxDEV","initialData","shareholders","id","name","role","shareClasses","rounds","date","preMoney","investment","shareClassId","transactions","roundIndex","shareholderId","shares","formatCurrency","value","toFixed","formatNumber","Intl","NumberFormat","format","formatPercent","CapTableContent","_s","data","setData","isEditMode","setIsEditMode","viewMode","setViewMode","selectedRoundIndex","setSelectedRoundIndex","length","derivedTable","_groupedRows$find$own","_groupedRows$find","_groupedRows$find$own2","_groupedRows$find2","history","i","_history$holdings","_history","round","prevHoldings","holdings","currentHoldings","roundTransactions","filter","t","push","isCurrent","relevantHistory","slice","currentRoundState","previousRoundState","displayRows","summary","postMoney","totalShares","Object","values","reduce","acc","h","tableRows","entries","map","shId","holding","_previousRoundState$h","_previousRoundState$h2","_previousRoundState$h3","_data$shareClasses$cu","shareholder","ownership","prevOwnership","dilution","lastTransaction","reverse","find","sharePrice","shareClass","groupedRows","row","group","totalRaised","founderOwnership","g","investorOwnership","handleSharesChange","newShares","newTx","parseInt","prevData","className","children","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","r","onClick","_row$sharePrice","type","defaultValue","onBlur","colSpan","_c","$RefreshReg$"],"sources":["/Users/markgiblin/Desktop/layrbase/src/pages/cap-table/components/captable/CapTableContent.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { PencilIcon } from '@heroicons/react/20/solid';\n\n// --- MOCK DATA ---\nconst initialData = {\n  shareholders: {\n    'sh-1': { id: 'sh-1', name: 'Alice', role: 'Founder' },\n    'sh-2': { id: 'sh-2', name: 'Bob', role: 'Founder' },\n    'sh-3': { id: 'sh-3', name: 'Seed Fund A', role: 'Investor' },\n    'sh-4': { id: 'sh-4', name: 'Carol', role: 'Advisor' },\n    'sh-5': { id: 'sh-5', name: 'Series A Lead', role: 'Investor' },\n  },\n  shareClasses: {\n    'sc-1': { id: 'sc-1', name: 'Common' },\n    'sc-2': { id: 'sc-2', name: 'Seed Preferred' },\n    'sc-3': { id: 'sc-3', name: 'Series A Preferred' },\n  },\n  rounds: [\n    { name: 'Pre-Seed', date: '2022-01-15', preMoney: 500000, investment: 100000, shareClassId: 'sc-1' },\n    { name: 'Seed', date: '2023-03-20', preMoney: 2000000, investment: 500000, shareClassId: 'sc-2' },\n    { name: 'Series A', date: '2024-05-10', preMoney: 10000000, investment: 2500000, shareClassId: 'sc-3' },\n  ],\n  transactions: [\n    // Pre-Seed\n    { roundIndex: 0, shareholderId: 'sh-1', shares: 4000000, investment: 50000 },\n    { roundIndex: 0, shareholderId: 'sh-2', shares: 4000000, investment: 50000 },\n    // Seed\n    { roundIndex: 1, shareholderId: 'sh-3', shares: 2000000, investment: 500000 },\n    { roundIndex: 1, shareholderId: 'sh-4', shares: 50000, investment: 0 }, // Advisor grant\n    // Series A\n    { roundIndex: 2, shareholderId: 'sh-5', shares: 2500000, investment: 2500000 },\n  ]\n};\n\n// --- UTILITY & FORMATTING ---\nconst formatCurrency = (value) => `£${(value / 1000000).toFixed(2)}M`;\nconst formatNumber = (value) => new Intl.NumberFormat('en-GB').format(value);\nconst formatPercent = (value) => `${(value * 100).toFixed(2)}%`;\n\n// --- MAIN COMPONENT ---\nconst CapTableContent = () => {\n  const [data, setData] = useState(initialData);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [viewMode, setViewMode] = useState('individual'); // individual | group\n  const [selectedRoundIndex, setSelectedRoundIndex] = useState(data.rounds.length); // length = Current\n\n  const derivedTable = useMemo(() => {\n    let history = [];\n\n    // Iterate through each round to build history\n    for (let i = 0; i < data.rounds.length; i++) {\n      const round = data.rounds[i];\n      const prevHoldings = history[i - 1]?.holdings ?? {};\n      let currentHoldings = { ...prevHoldings }; // Simple object spread instead of immer\n\n      const roundTransactions = data.transactions.filter(t => t.roundIndex === i);\n      \n      for(const t of roundTransactions) {\n        if (!currentHoldings[t.shareholderId]) {\n          currentHoldings[t.shareholderId] = { shares: 0, investment: 0 };\n        }\n        currentHoldings[t.shareholderId].shares += t.shares;\n        currentHoldings[t.shareholderId].investment += t.investment;\n      }\n      \n      history.push({ name: round.name, date: round.date, preMoney: round.preMoney, investment: round.investment, holdings: currentHoldings, shareClassId: round.shareClassId });\n    }\n\n    // Now, calculate the state for the selected round\n    const isCurrent = selectedRoundIndex === data.rounds.length;\n    const relevantHistory = isCurrent ? history : history.slice(0, selectedRoundIndex + 1);\n    const currentRoundState = relevantHistory[relevantHistory.length - 1];\n    const previousRoundState = relevantHistory[relevantHistory.length - 2];\n    \n    if (!currentRoundState) return { displayRows: [], summary: {} }; // Handle Pre-seed case\n\n    const postMoney = currentRoundState.preMoney + currentRoundState.investment;\n    const totalShares = Object.values(currentRoundState.holdings).reduce((acc, h) => acc + h.shares, 0);\n\n    const tableRows = Object.entries(currentRoundState.holdings).map(([shId, holding]) => {\n      const shareholder = data.shareholders[shId];\n      const ownership = holding.shares / totalShares;\n\n      const prevOwnership = previousRoundState ? (previousRoundState.holdings[shId]?.shares ?? 0) / Object.values(previousRoundState.holdings).reduce((acc, h) => acc + h.shares, 0) : 0;\n      const dilution = prevOwnership > 0 ? prevOwnership - ownership : 0;\n      \n      const lastTransaction = data.transactions.slice().reverse().find(t => t.shareholderId === shId && t.roundIndex === relevantHistory.length - 1);\n      const sharePrice = lastTransaction?.investment > 0 ? lastTransaction.investment / lastTransaction.shares : currentRoundState.preMoney / Object.values(previousRoundState?.holdings ?? {}).reduce((acc,h) => acc + h.shares, 0) || 0;\n\n      return {\n        id: shId,\n        name: shareholder.name,\n        role: shareholder.role,\n        shares: holding.shares,\n        ownership,\n        shareClass: data.shareClasses[currentRoundState.shareClassId]?.name,\n        investment: holding.investment,\n        sharePrice: sharePrice,\n        dilution,\n      };\n    });\n\n    const groupedRows = Object.values(tableRows.reduce((acc, row) => {\n        const group = row.role === 'Founder' ? 'Founders' : row.role === 'Investor' ? 'Investors' : 'Employees & Advisors';\n        if (!acc[group]) {\n          acc[group] = { name: group, role: '', shares: 0, ownership: 0, investment: 0 };\n        }\n        acc[group].shares += row.shares;\n        acc[group].ownership += row.ownership;\n        acc[group].investment += row.investment;\n        return acc;\n    }, {}));\n\n\n    const displayRows = viewMode === 'individual' ? tableRows : groupedRows;\n\n    const summary = {\n      totalShares: totalShares,\n      totalRaised: history.reduce((acc, h) => acc + h.investment, 0),\n      preMoney: currentRoundState.preMoney,\n      postMoney: postMoney,\n      founderOwnership: groupedRows.find(g => g.name === 'Founders')?.ownership ?? 0,\n      investorOwnership: groupedRows.find(g => g.name === 'Investors')?.ownership ?? 0,\n    };\n\n    return { displayRows, summary };\n  }, [data, selectedRoundIndex, viewMode]);\n\n  const handleSharesChange = (shId, newShares) => {\n    // This is a simplified update for demonstration in edit mode.\n    // A real implementation would be much more complex.\n    const newTx = { roundIndex: selectedRoundIndex, shareholderId: shId, shares: parseInt(newShares, 10) || 0, investment: 0};\n    setData(prevData => ({\n      ...prevData,\n      transactions: [...prevData.transactions, newTx]\n    }));\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header Controls */}\n      <div className=\"flex flex-wrap items-center justify-between gap-4\">\n        <div className=\"flex items-center space-x-4\">\n          <select \n            value={selectedRoundIndex}\n            onChange={(e) => setSelectedRoundIndex(parseInt(e.target.value, 10))}\n            className=\"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 bg-purple-600 text-white font-medium px-4 py-2\"\n          >\n            <option value={data.rounds.length}>Current</option>\n            {data.rounds.map((r, i) => <option key={i} value={i}>{r.name}</option>)}\n          </select>\n          <div className=\"bg-gray-200 p-0.5 rounded-lg flex text-sm\">\n            <button\n              onClick={() => setViewMode('individual')}\n              className={`px-3 py-1 rounded-md ${viewMode === 'individual' ? 'bg-white shadow-sm' : ''}`}\n            >\n              Individuals\n            </button>\n            <button\n              onClick={() => setViewMode('group')}\n              className={`px-3 py-1 rounded-md ${viewMode === 'group' ? 'bg-white shadow-sm' : ''}`}\n            >\n              Groups\n            </button>\n          </div>\n        </div>\n        <button\n          onClick={() => setIsEditMode(!isEditMode)}\n          className={`flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md border ${\n            isEditMode\n              ? 'bg-primary-600 text-white border-transparent'\n              : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\n          }`}\n        >\n          <PencilIcon className=\"h-4 w-4\" />\n          <span>{isEditMode ? 'Live Mode' : 'Edit Mode'}</span>\n        </button>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\n        <div className=\"bg-white p-4 rounded-lg shadow\"><p className=\"text-sm text-gray-500\">Pre-money Valuation</p><p className=\"text-xl font-bold\">{formatCurrency(derivedTable.summary.preMoney)}</p></div>\n        <div className=\"bg-white p-4 rounded-lg shadow\"><p className=\"text-sm text-gray-500\">Post-money Valuation</p><p className=\"text-xl font-bold\">{formatCurrency(derivedTable.summary.postMoney)}</p></div>\n        <div className=\"bg-white p-4 rounded-lg shadow\"><p className=\"text-sm text-gray-500\">Founders Ownership</p><p className=\"text-xl font-bold\">{formatPercent(derivedTable.summary.founderOwnership)}</p></div>\n        <div className=\"bg-white p-4 rounded-lg shadow\"><p className=\"text-sm text-gray-500\">Investors Ownership</p><p className=\"text-xl font-bold\">{formatPercent(derivedTable.summary.investorOwnership)}</p></div>\n      </div>\n\n      {/* Cap Table */}\n      <div className=\"overflow-x-auto\">\n        <div className=\"bg-white rounded-lg shadow min-w-full inline-block\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Shareholder</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Shares</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">% Ownership</th>\n                {viewMode === 'individual' && <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Share Class</th>}\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Investment (£)</th>\n                {viewMode === 'individual' && <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Share Price (£)</th>}\n                {viewMode === 'individual' && <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Dilution %</th>}\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {derivedTable.displayRows.map(row => (\n                <tr key={row.id || row.name}>\n                  <td className=\"px-6 py-2 whitespace-nowrap\"><div className=\"font-medium text-gray-900\">{row.name}</div><div className=\"text-sm text-gray-500\">{row.role}</div></td>\n                  <td className=\"px-6 py-2 whitespace-nowrap text-sm text-gray-700\">\n                    {isEditMode && viewMode === 'individual' ? (\n                      <input type=\"text\" defaultValue={row.shares} onBlur={(e) => handleSharesChange(row.id, e.target.value)} className=\"w-24 p-1 rounded border-gray-300\"/>\n                    ) : formatNumber(row.shares) }\n                  </td>\n                  <td className=\"px-6 py-2 whitespace-nowrap text-sm text-gray-700\">{formatPercent(row.ownership)}</td>\n                  {viewMode === 'individual' && <td className=\"px-6 py-2 whitespace-nowrap text-sm text-gray-700\">{row.shareClass}</td>}\n                  <td className=\"px-6 py-2 whitespace-nowrap text-sm text-gray-700\">{formatNumber(row.investment)}</td>\n                  {viewMode === 'individual' && <td className=\"px-6 py-2 whitespace-nowrap text-sm text-gray-700\">{row.sharePrice?.toFixed(4)}</td>}\n                  {viewMode === 'individual' && <td className=\"px-6 py-2 whitespace-nowrap text-sm text-red-500\">{row.dilution > 0 ? formatPercent(row.dilution) : '-'}</td>}\n                </tr>\n              ))}\n            </tbody>\n            <tfoot className=\"bg-gray-50\">\n              <tr>\n                <td className=\"px-6 py-2 text-left text-sm font-bold text-gray-700\">Totals</td>\n                <td className=\"px-6 py-2 text-left text-sm font-bold text-gray-700\">{formatNumber(derivedTable.summary.totalShares)}</td>\n                <td className=\"px-6 py-2 text-left text-sm font-bold text-gray-700\">100.00%</td>\n                 {viewMode === 'individual' && <td colSpan=\"1\"></td>}\n                <td className=\"px-6 py-2 text-left text-sm font-bold text-gray-700\">{formatNumber(derivedTable.summary.totalRaised)}</td>\n                {viewMode === 'individual' && <td colSpan=\"2\"></td>}\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CapTableContent; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}